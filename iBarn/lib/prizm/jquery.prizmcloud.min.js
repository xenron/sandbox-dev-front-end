/*
 * jQuery plugin to display Prizm Cloud Document Viewer
 * with clickable thumbnails that dynamically update viewer
 * with new document, with a slideshow feature
 *
 * Plugin url: www.prizmcloud.com
 * Author: Accusoft
 * Author url: www.accusoft.com
 * Documentaion: http://www.prizmcloud.com/plugins/documentation/jquery.html
 * 
 * Structure example
 * <div with "your container id">
 *     <div "container for document links">
 *        <a href="http://path/to/document" class="doc-links"></a>
 *    </div>
 *    <div "container for viewer"></div>
 * </div>
 * script jQuery("your container id").prizmcloud({ key: "11111111", viewerwidth: 650, viewerheight: 700 });
 */
(function(e){e.fn.prizmcloud=function(t){function i(t){var i=e(n.documents_container);t.children(i).addClass("prizm-cloud-viewer-active");t.children(i).children(".doc-link").each(function(){e(this).on("click",function(i){i.preventDefault();var s=e(this),o="&document=",u=Math.floor(Math.random()*11),a=r+n.key;if(!s.hasClass("active")){s.parent().find(".doc-link").removeClass("active");s.addClass("active");if(s.data("doc-link")!==undefined){o+=s.data("doc-link")}else if(s.attr("href")!==undefined){o+=s.attr("href")}a+=o+"&viewerheight="+n.viewerheight+"&viewerwidth="+n.viewerwidth+"&viewertype="+n.type;if(n.type.toLowerCase()=="slideshow"){for(var f in n.slideshow)a+="&"+f+"="+n.slideshow[f]}else{a+="&printButton="+n.print_button+"&toolbarColor="+n.toolbar_color}var l=e("<iframe></iframe>",{id:"prizmcloud-iframe-"+u,width:n.viewerwidth+20,height:n.viewerheight+30,src:a,frameborder:0,seamless:"seamless"});t.children(n.viewer_container).html(l)}return false})})}var n=e.extend(true,{},e.fn.prizmcloud.defaults,t);var r="//connect.ajaxdocumentviewer.com/?key=";i(this)};e.fn.prizmcloud.defaults={key:"03232898832",type:"html5",viewerwidth:500,viewerheight:650,print_button:"Yes",toolbar_color:"CCCCCC",documents_container:"#documents-for-switching",viewer_container:"#prizm-cloud-viewer",slideshow:{animtype:"slide",animduration:450,animspeed:4e3,automatic:"yes",showcontrols:"yes",centercontrols:"yes",keyboardnav:"yes",hoverpause:"yes"}}})(jQuery)