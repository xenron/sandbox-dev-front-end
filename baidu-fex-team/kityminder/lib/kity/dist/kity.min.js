/*!
 * ====================================================
 * kity - v2.0.0 - 2015-01-12
 * https://github.com/fex-team/kity
 * GitHub: https://github.com/fex-team/kity.git 
 * Copyright (c) 2015 Baidu FEX; Licensed BSD
 * ====================================================
 */

!function(){function use(a){_p.r([moduleMapping[a]])}var _p={r:function(a){if(_p[a].inited)return _p[a].value;if("function"!=typeof _p[a].value)return _p[a].inited=!0,_p[a].value;var b={exports:{}},c=_p[a].value(null,b.exports,b);if(_p[a].inited=!0,_p[a].value=c,void 0!==c)return c;for(var d in b.exports)if(b.exports.hasOwnProperty(d))return _p[a].inited=!0,_p[a].value=b.exports,b.exports}};_p[0]={value:function(){function a(a){var b=parseFloat(a,10);return/ms/.test(a)?b:/s/.test(a)?1e3*b:/min/.test(a)?60*b*1e3:b}var b=_p.r(8),c=_p.r(1),d=_p.r(11).createClass("Animator",{constructor:function(a,b,c){if(1==arguments.length){var d=arguments[0];this.beginValue=d.beginValue,this.finishValue=d.finishValue,this.setter=d.setter}else this.beginValue=a,this.finishValue=b,this.setter=c},start:function(b,c,d,e,f){2===arguments.length&&"object"==typeof c&&(d=c.easing,e=c.delay,f=c.callback,c=c.duration),4===arguments.length&&"function"==typeof e&&(f=e,e=0);var g=this.create(b,c,d,f);return e=a(e),e>0?setTimeout(function(){g.play()},e):g.play(),g},create:function(e,f,g,h){var i;return f=f&&a(f)||d.DEFAULT_DURATION,g=g||d.DEFAULT_EASING,"string"==typeof g&&(g=c[g]),i=new b(this,e,f,g),"function"==typeof h&&i.on("finish",h),i},reverse:function(){return new d(this.finishValue,this.beginValue,this.setter)}});d.DEFAULT_DURATION=300,d.DEFAULT_EASING="linear";var e=_p.r(60);return _p.r(11).extendClass(e,{animate:function(a,b,c,d,e){function f(){g.shift(),g.length&&setTimeout(g[0].t.play.bind(g[0].t),g[0].d)}var g=this._KityAnimateQueue=this._KityAnimateQueue||[],h=a.create(this,b,c,e);return h.on("finish",f),g.push({t:h,d:d}),1==g.length&&setTimeout(h.play.bind(h),d),this},timeline:function(){return this._KityAnimateQueue[0].t},stop:function(){var a=this._KityAnimateQueue;if(a)for(;a.length;)a.shift().t.stop();return this}}),d}},_p[1]={value:function(){var a={linear:function(a,b,c,d){return c*(a/d)+b},swing:function(b,c,d,e){return a.easeOutQuad(b,c,d,e)},ease:function(b,c,d,e){return a.easeInOutCubic(b,c,d,e)},easeInQuad:function(a,b,c,d){return c*(a/=d)*a+b},easeOutQuad:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},easeInOutQuad:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},easeInCubic:function(a,b,c,d){return c*(a/=d)*a*a+b},easeOutCubic:function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b},easeInOutCubic:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},easeInQuart:function(a,b,c,d){return c*(a/=d)*a*a*a+b},easeOutQuart:function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},easeInOutQuart:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},easeInQuint:function(a,b,c,d){return c*(a/=d)*a*a*a*a+b},easeOutQuint:function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b},easeInOutQuint:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},easeInSine:function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b},easeOutSine:function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},easeInOutSine:function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b},easeInExpo:function(a,b,c,d){return 0===a?b:c*Math.pow(2,10*(a/d-1))+b},easeOutExpo:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},easeInOutExpo:function(a,b,c,d){return 0===a?b:a==d?b+c:(a/=d/2)<1?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},easeInCirc:function(a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b},easeOutCirc:function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},easeInOutCirc:function(a,b,c,d){return(a/=d/2)<1?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},easeInElastic:function(a,b,c,d){var e=1.70158,f=0,g=c;return 0===a?b:1==(a/=d)?b+c:(f||(f=.3*d),g<Math.abs(c)?(g=c,e=f/4):e=f/(2*Math.PI)*Math.asin(c/g),-(g*Math.pow(2,10*(a-=1))*Math.sin(2*(a*d-e)*Math.PI/f))+b)},easeOutElastic:function(a,b,c,d){var e=1.70158,f=0,g=c;return 0===a?b:1==(a/=d)?b+c:(f||(f=.3*d),g<Math.abs(c)?(g=c,e=f/4):e=f/(2*Math.PI)*Math.asin(c/g),g*Math.pow(2,-10*a)*Math.sin(2*(a*d-e)*Math.PI/f)+c+b)},easeInOutElastic:function(a,b,c,d){var e=1.70158,f=0,g=c;if(0===a)return b;if(2==(a/=d/2))return b+c;if(f||(f=.3*d*1.5),g<Math.abs(c)){g=c;var e=f/4}else var e=f/(2*Math.PI)*Math.asin(c/g);return 1>a?-.5*g*Math.pow(2,10*(a-=1))*Math.sin(2*(a*d-e)*Math.PI/f)+b:g*Math.pow(2,-10*(a-=1))*Math.sin(2*(a*d-e)*Math.PI/f)*.5+c+b},easeInBack:function(a,b,c,d,e){return void 0==e&&(e=1.70158),c*(a/=d)*a*((e+1)*a-e)+b},easeOutBack:function(a,b,c,d,e){return void 0==e&&(e=1.70158),c*((a=a/d-1)*a*((e+1)*a+e)+1)+b},easeInOutBack:function(a,b,c,d,e){return void 0==e&&(e=1.70158),(a/=d/2)<1?c/2*a*a*(((e*=1.525)+1)*a-e)+b:c/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b},easeInBounce:function(b,c,d,e){return d-a.easeOutBounce(e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d){return(a/=d)<1/2.75?7.5625*c*a*a+b:2/2.75>a?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:2.5/2.75>a?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+.984375)+b},easeInOutBounce:function(b,c,d,e){return e/2>b?.5*a.easeInBounce(2*b,0,d,e)+c:.5*a.easeOutBounce(2*b-e,0,d,e)+.5*d+c}};return a}},_p[2]={value:function(a,b){function c(a){1===l.push(a)&&(i=j(d))}function d(){var a=l;for(l=[];a.length;)h(a.pop());i=0}function e(a){var b=g(a);return c(b),b}function f(a){var b=l.indexOf(a);~b&&l.splice(b,1),0===l.length&&k(i)}function g(a){var b={index:0,time:+new Date,elapsed:0,action:a,next:function(){c(b)}};return b}function h(a){var b=+new Date,c=b-a.time;c>200&&(c=1e3/60),a.dur=c,a.elapsed+=c,a.time=b,a.action.call(null,a),a.index++}var i,j=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,1e3/60)},k=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout,l=[];b.requestFrame=e,b.releaseFrame=f}},_p[3]={value:function(){var a=_p.r(0),b=_p.r(34),c=_p.r(46),d=_p.r(60),e=_p.r(11).createClass("MotionAnimator",{base:a,constructor:function(a,d){var e=this;this.callBase({beginValue:0,finishValue:1,setter:function(a,d){var f=e.motionPath instanceof c?e.motionPath.getPathData():e.motionPath,g=b.pointAtPath(f,d);a.setTranslate(g.x,g.y),this.doRotate&&a.setRotate(g.tan.getAngle())}}),this.doRotate=d,this.motionPath=a}});return _p.r(11).extendClass(d,{motion:function(a,b,c,d,f){return this.animate(new e(a),b,c,d,f)}}),e}},_p[4]={value:function(){var a=_p.r(0),b=_p.r(11).createClass("OpacityAnimator",{base:a,constructor:function(a){this.callBase({beginValue:function(a){return a.getOpacity()},finishValue:a,setter:function(a,b){a.setOpacity(b)}})}}),c=_p.r(60);return _p.r(11).extendClass(c,{fxOpacity:function(a,c,d,e,f){return this.animate(new b(a),c,d,e,f)},fadeTo:function(){return this.fxOpacity.apply(this,arguments)},fadeIn:function(){return this.fxOpacity.apply(this,[1].concat([].slice.call(arguments)))},fadeOut:function(){return this.fxOpacity.apply(this,[0].concat([].slice.call(arguments)))}}),b}},_p[5]={value:function(){var a=_p.r(0),b=_p.r(34),c=_p.r(11).createClass("OpacityAnimator",{base:a,constructor:function(a){this.callBase({beginValue:function(a){return this.beginPath=a.getPathData(),0},finishValue:1,setter:function(c,d){c.setPathData(b.pathTween(this.beginPath,a,d))}})}}),d=_p.r(46);return _p.r(11).extendClass(d,{fxPath:function(a,b,d,e,f){return this.animate(new c(a),b,d,e,f)}}),c}},_p[6]={value:function(){var a=_p.r(0),b=_p.r(11).createClass("RotateAnimator",{base:a,constructor:function(a){this.callBase({beginValue:0,finishValue:a,setter:function(a,b,c){var d=c.getDelta();a.rotate(d,ax,ay)}})}}),c=_p.r(60);return _p.r(11).extendClass(c,{fxRotate:function(a,c,d,e,f){return this.animate(new b(a),c,d,e,f)}}),b}},_p[7]={value:function(){var a=_p.r(0),b=_p.r(11).createClass("ScaleAnimator",{base:a,constructor:function(a,b){this.callBase({beginValue:0,finishValue:1,setter:function(c,d,e){var f=e.getDelta(),g=Math.pow(a,f),h=Math.pow(b,f);c.scale(h,g)}})}}),c=_p.r(60);return _p.r(11).extendClass(c,{fxScale:function(a,c,d,e,f,g){return this.animate(new b(a,c),d,e,f,g)}}),b}},_p[8]={value:function(){function a(a,b,c){return e.paralle(a,b,function(a,b){return a+(b-a)*c})}function b(a,b){return e.paralle(a,b,function(a,b){return b-a})}function c(a,b,c){this.timeline=a,this.target=a.target,this.type=b;for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d])}var d=_p.r(33),e=_p.r(12),f=_p.r(2),g=_p.r(11).createClass("Timeline",{mixins:[d],constructor:function(a,b,c,d){this.callMixin(),this.target=b,this.time=0,this.duration=c,this.easing=d,this.animator=a,this.beginValue=a.beginValue,this.finishValue=a.finishValue,this.setter=a.setter,this.status="ready"},nextFrame:function(a){"playing"==this.status&&(this.time+=a.dur,this.setValue(this.getValue()),this.time>=this.duration&&this.timeUp(),a.next())},getPlayTime:function(){return this.rollbacking?this.duration-this.time:this.time},getTimeProportion:function(){return this.getPlayTime()/this.duration},getValueProportion:function(){return this.easing(this.getPlayTime(),0,1,this.duration)},getValue:function(){var b=this.beginValue,c=this.finishValue,d=this.getValueProportion();return a(b,c,d)},setValue:function(a){this.lastValue=this.currentValue,this.currentValue=a,this.setter.call(this.target,this.target,a,this)},getDelta:function(){return this.lastValue=void 0===this.lastValue?this.beginValue:this.lastValue,b(this.lastValue,this.currentValue)},play:function(){var a=this.status;switch(this.status="playing",a){case"ready":e.isFunction(this.beginValue)&&(this.beginValue=this.beginValue.call(this.target,this.target)),e.isFunction(this.finishValue)&&(this.finishValue=this.finishValue.call(this.target,this.target)),this.time=0,this.setValue(this.beginValue),this.frame=f.requestFrame(this.nextFrame.bind(this));break;case"finished":case"stoped":this.time=0,this.frame=f.requestFrame(this.nextFrame.bind(this));break;case"paused":this.frame.next()}return this.fire("play",new c(this,"play",{lastStatus:a})),this},pause:function(){return this.status="paused",this.fire("pause",new c(this,"pause")),f.releaseFrame(this.frame),this},stop:function(){return this.status="stoped",this.setValue(this.finishValue),this.rollbacking=!1,this.fire("stop",new c(this,"stop")),f.releaseFrame(this.frame),this},timeUp:function(){this.repeatOption?(this.time=0,this.rollback?this.rollbacking?(this.decreaseRepeat(),this.rollbacking=!1):(this.rollbacking=!0,this.fire("rollback",new c(this,"rollback"))):this.decreaseRepeat(),this.repeatOption?this.fire("repeat",new c(this,"repeat")):this.finish()):this.finish()},finish:function(){this.setValue(this.finishValue),this.status="finished",this.fire("finish",new c(this,"finish")),f.releaseFrame(this.frame)},decreaseRepeat:function(){this.repeatOption!==!0&&this.repeatOption--},repeat:function(a,b){return this.repeatOption=a,this.rollback=b,this}});return g.requestFrame=f.requestFrame,g.releaseFrame=f.releaseFrame,g}},_p[9]={value:function(){var a=_p.r(0),b=_p.r(11).createClass("TranslateAnimator",{base:a,constructor:function(a,b){this.callBase({x:0,y:0},{x:a,y:b},function(a,b,c){var d=c.getDelta();a.translate(d.x,d.y)})}}),c=_p.r(60);return _p.r(11).extendClass(c,{fxTranslate:function(a,c,d,e,f,g){return this.animate(new b(a,c),d,e,f,g)}}),b}},_p[10]={value:function(){var a=function(){var a,b=navigator.userAgent.toLowerCase(),c=window.opera;a={ie:/(msie\s|trident.*rv:)([\w.]+)/.test(b),opera:!!c&&c.version,webkit:b.indexOf(" applewebkit/")>-1,mac:b.indexOf("macintosh")>-1},a.gecko="Gecko"==navigator.product&&!a.webkit&&!a.opera&&!a.ie;var d=0;if(a.ie&&(d=1*(b.match(/(msie\s|trident.*rv:)([\w.]+)/)[2]||0),a.ie11Compat=11==document.documentMode,a.ie9Compat=9==document.documentMode),a.gecko){var e=b.match(/rv:([\d\.]+)/);e&&(e=e[1].split("."),d=1e4*e[0]+100*(e[1]||0)+1*(e[2]||0))}return/chrome\/(\d+\.\d)/i.test(b)&&(a.chrome=+RegExp.$1),/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(b)&&!/chrome/i.test(b)&&(a.safari=+(RegExp.$1||RegExp.$2)),a.opera&&(d=parseFloat(c.version())),a.webkit&&(d=parseFloat(b.match(/ applewebkit\/(\d+)/)[1])),a.version=d,a.isCompatible=!a.mobile&&(a.ie&&d>=6||a.gecko&&d>=10801||a.opera&&d>=9.5||a.air&&d>=1||a.webkit&&d>=522||!1),a}();return a}},_p[11]={value:function(require,exports){function Class(){}function checkBaseConstructorCall(a,b){var c=a.toString();if(!/this\.callBase/.test(c))throw new Error(b+" : 类构造函数没有调用父类的构造函数！为了安全，请调用父类的构造函数")}function inherit(constructor,BaseClass,classname){var KityClass=eval("(function "+classname+"( __inherit__flag ) {if( __inherit__flag != KITY_INHERIT_FLAG ) {KityClass.__KityConstructor.apply(this, arguments);}this.__KityClassName = KityClass.__KityClassName;})");KityClass.__KityConstructor=constructor,KityClass.prototype=new BaseClass(KITY_INHERIT_FLAG);for(var methodName in BaseClass.prototype)BaseClass.prototype.hasOwnProperty(methodName)&&0!==methodName.indexOf("__Kity")&&(KityClass.prototype[methodName]=BaseClass.prototype[methodName]);return KityClass.prototype.constructor=KityClass,KityClass}function mixin(a,b){if(!1==b instanceof Array)return a;var c,d,e,f=b.length;for(a.__KityMixins={constructor:[]},c=0;f>c;c++){d=b[c].prototype;for(e in d)!1!==d.hasOwnProperty(e)&&0!==e.indexOf("__Kity")&&("constructor"===e?a.__KityMixins.constructor.push(d[e]):a.prototype[e]=a.__KityMixins[e]=d[e])}return a}function extend(a,b){b.__KityClassName&&(b=b.prototype);for(var c in b)if(b.hasOwnProperty(c)&&c.indexOf("__Kity")&&"constructor"!=c){var d=a.prototype[c]=b[c];d.__KityMethodClass=a,d.__KityMethodName=c}return a}exports.Class=Class,Class.__KityClassName="Class",Class.prototype.base=function(a){var b=arguments.callee.caller,c=b.__KityMethodClass.__KityBaseClass.prototype[a];return c.apply(this,Array.prototype.slice.call(arguments,1))},Class.prototype.callBase=function(){var a=arguments.callee.caller,b=a.__KityMethodClass.__KityBaseClass.prototype[a.__KityMethodName];return b.apply(this,arguments)},Class.prototype.mixin=function(a){var b=arguments.callee.caller,c=b.__KityMethodClass.__KityMixins;if(!c)return this;var d=c[a];return d.apply(this,Array.prototype.slice.call(arguments,1))},Class.prototype.callMixin=function(){var a=arguments.callee.caller,b=a.__KityMethodName,c=a.__KityMethodClass.__KityMixins;if(!c)return this;var d=c[b];if("constructor"==b){for(var e=0,f=d.length;f>e;e++)d[e].call(this);return this}return d.apply(this,arguments)},Class.prototype.pipe=function(a){return"function"==typeof a&&a.call(this,this),this},Class.prototype.getType=function(){return this.__KityClassName},Class.prototype.getClass=function(){return this.constructor};var KITY_INHERIT_FLAG="__KITY_INHERIT_FLAG_"+ +new Date;exports.createClass=function(a,b){var c,d,e;return 1===arguments.length&&(b=arguments[0],a="AnonymousClass"),e=b.base||Class,b.hasOwnProperty("constructor")?(c=b.constructor,e!=Class&&checkBaseConstructorCall(c,a)):c=function(){this.callBase.apply(this,arguments),this.callMixin.apply(this,arguments)},d=inherit(c,e,a),d=mixin(d,b.mixins),d.__KityClassName=c.__KityClassName=a,d.__KityBaseClass=c.__KityBaseClass=e,d.__KityMethodName=c.__KityMethodName="constructor",d.__KityMethodClass=c.__KityMethodClass=d,delete b.mixins,delete b.constructor,delete b.base,d=extend(d,b)},exports.extendClass=extend}},_p[12]={value:function(){var a={each:function(a,b,c){if(null!==a)if(a.length===+a.length){for(var d=0,e=a.length;e>d;d++)if(b.call(c,a[d],d,a)===!1)return!1}else for(var f in a)if(a.hasOwnProperty(f)&&b.call(c,a[f],f,a)===!1)return!1},extend:function(a){for(var b=arguments,c=this.isBoolean(b[b.length-1])?b[b.length-1]:!1,d=this.isBoolean(b[b.length-1])?b.length-1:b.length,e=1;d>e;e++){var f=b[e];for(var g in f)c&&a.hasOwnProperty(g)||(a[g]=f[g])}return a},deepExtend:function(a){for(var b=arguments,c=this.isBoolean(b[b.length-1])?b[b.length-1]:!1,d=this.isBoolean(b[b.length-1])?b.length-1:b.length,e=1;d>e;e++){var f=b[e];for(var g in f)c&&a.hasOwnProperty(g)||(this.isObject(a[g])&&this.isObject(f[g])?this.deepExtend(a[g],f[g],c):a[g]=f[g])}return a},clone:function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},copy:function(a){return"object"!=typeof a?a:"function"==typeof a?null:JSON.parse(JSON.stringify(a))},queryPath:function(a,b){for(var c=a.split("."),d=0,e=b,f=c.length;f>d;){if(!(c[d]in e))return void 0;if(e=e[c[d]],d++,d>=f||void 0===e)return e}},getValue:function(a,b){return void 0!==a?a:b},flatten:function(b){var c,d=[],e=b.length;for(c=0;e>c;c++)b[c]instanceof Array?d=d.concat(a.flatten(b[c])):d.push(b[c]);return d},paralle:function(b,c,d){var e,f,g,h;if(b instanceof Array){for(h=[],f=0;f<b.length;f++)h.push(a.paralle(b[f],c[f],d));return h}if(b instanceof Object){if(e=b.getClass&&b.getClass(),e&&e.parse)b=b.valueOf(),c=c.valueOf(),h=a.paralle(b,c,d),h=e.parse(h);else{h={};for(g in b)b.hasOwnProperty(g)&&c.hasOwnProperty(g)&&(h[g]=a.paralle(b[g],c[g],d))}return h}return!1===isNaN(parseFloat(b))?d(b,c):h},parallelize:function(b){return function(c,d){return a.paralle(c,d,b)}}};return a.each(["String","Function","Array","Number","RegExp","Object","Boolean"],function(b){a["is"+b]=function(a){return Object.prototype.toString.apply(a)=="[object "+b+"]"}}),a}},_p[13]={value:function(){var a=_p.r(16),b=_p.r(12),c=_p.r(11).createClass("ColorMatrixEffect",{base:a,constructor:function(d,e){this.callBase(a.NAME_COLOR_MATRIX),this.set("type",b.getValue(d,c.TYPE_MATRIX)),this.set("in",b.getValue(e,a.INPUT_SOURCE_GRAPHIC))}});return b.extend(c,{TYPE_MATRIX:"matrix",TYPE_SATURATE:"saturate",TYPE_HUE_ROTATE:"hueRotate",TYPE_LUMINANCE_TO_ALPHA:"luminanceToAlpha",MATRIX_ORIGINAL:"10000010000010000010".split("").join(" "),MATRIX_EMPTY:"00000000000000000000".split("").join(" ")}),c}},_p[14]={value:function(){var a=_p.r(16),b=_p.r(12),c=_p.r(11).createClass("CompositeEffect",{base:a,constructor:function(d,e,f){this.callBase(a.NAME_COMPOSITE),this.set("operator",b.getValue(d,c.OPERATOR_OVER)),e&&this.set("in",e),f&&this.set("in2",f)}});return b.extend(c,{OPERATOR_OVER:"over",OPERATOR_IN:"in",OPERATOR_OUT:"out",OPERATOR_ATOP:"atop",OPERATOR_XOR:"xor",OPERATOR_ARITHMETIC:"arithmetic"}),c}},_p[15]={value:function(){var a=_p.r(16),b=_p.r(12),c=_p.r(11).createClass("ConvolveMatrixEffect",{base:a,constructor:function(d,e){this.callBase(a.NAME_CONVOLVE_MATRIX),this.set("edgeMode",b.getValue(d,c.MODE_DUPLICATE)),this.set("in",b.getValue(e,a.INPUT_SOURCE_GRAPHIC))}});return b.extend(c,{MODE_DUPLICATE:"duplicate",MODE_WRAP:"wrap",MODE_NONE:"none"}),c}},_p[16]={value:function(){var a=_p.r(67),b=_p.r(11).createClass("Effect",{constructor:function(b){this.node=a.createNode(b)},getId:function(){return this.node.id},setId:function(a){return this.node.id=a,this},set:function(a,b){return this.node.setAttribute(a,b),this},get:function(a){return this.node.getAttribute(a)},getNode:function(){return this.node},toString:function(){return this.node.getAttribute("result")||""}});return _p.r(12).extend(b,{NAME_GAUSSIAN_BLUR:"feGaussianBlur",NAME_OFFSET:"feOffset",NAME_COMPOSITE:"feComposite",NAME_COLOR_MATRIX:"feColorMatrix",NAME_CONVOLVE_MATRIX:"feConvolveMatrix",INPUT_SOURCE_GRAPHIC:"SourceGraphic",INPUT_SOURCE_ALPHA:"SourceAlpha",INPUT_BACKGROUND_IMAGE:"BackgroundImage",INPUT_BACKGROUND_ALPHA:"BackgroundAlpha",INPUT_FILL_PAINT:"FillPaint",INPUT_STROKE_PAINT:"StrokePaint"}),b}},_p[17]={value:function(){var a=_p.r(16),b=_p.r(12);return _p.r(11).createClass("GaussianblurEffect",{base:a,constructor:function(c,d){this.callBase(a.NAME_GAUSSIAN_BLUR),this.set("stdDeviation",b.getValue(c,1)),this.set("in",b.getValue(d,a.INPUT_SOURCE_GRAPHIC))}})}},_p[18]={value:function(){var a=_p.r(16),b=_p.r(12);return _p.r(11).createClass("OffsetEffect",{base:a,constructor:function(c,d,e){this.callBase(a.NAME_OFFSET),this.set("dx",b.getValue(c,0)),this.set("dy",b.getValue(d,0)),this.set("in",b.getValue(e,a.INPUT_SOURCE_GRAPHIC))}})}},_p[19]={value:function(){return _p.r(11).createClass("EffectContainer",{base:_p.r(29),addEffect:function(){return this.addItem.apply(this,arguments)},prependEffect:function(){return this.prependItem.apply(this,arguments)},appendEffect:function(){return this.appendItem.apply(this,arguments)},removeEffect:function(){return this.removeItem.apply(this,arguments)},addEffects:function(){return this.addItems.apply(this,arguments)},setEffects:function(){return this.setItems.apply(this,arguments)},getEffect:function(){return this.getItem.apply(this,arguments)},getEffects:function(){return this.getItems.apply(this,arguments)},getFirstEffect:function(){return this.getFirstItem.apply(this,arguments)},getLastEffect:function(){return this.getLastItem.apply(this,arguments)},handleAdd:function(a,b){var c=this.getEffects().length,d=this.getItem(b+1);return c===b+1?void this.node.appendChild(a.getNode()):void this.node.insertBefore(a.getNode(),d.getNode())}})}},_p[20]={value:function(){var a=_p.r(67),b=_p.r(11),c=b.createClass("Filter",{mixins:[_p.r(19)],constructor:function(b,c,d,e){this.node=a.createNode("filter"),void 0!==b&&this.set("x",b),void 0!==c&&this.set("y",c),void 0!==d&&this.set("width",d),void 0!==e&&this.set("height",e)},getId:function(){return this.id},setId:function(a){return this.node.id=a,this},set:function(a,b){return this.node.setAttribute(a,b),this},get:function(a){return this.node.getAttribute(a)},getNode:function(){return this.node}}),d=_p.r(60);return b.extendClass(d,{applyFilter:function(a){var b=a.get("id");return b&&this.node.setAttribute("filter","url(#"+b+")"),this}}),c}},_p[21]={value:function(){var a=_p.r(17);return _p.r(11).createClass("GaussianblurFilter",{base:_p.r(20),constructor:function(b){this.callBase(),this.addEffect(new a(b))}})}},_p[22]={value:function(){var a=_p.r(17),b=_p.r(16),c=_p.r(13),d=_p.r(28),e=_p.r(12),f=_p.r(14),g=_p.r(18);return _p.r(11).createClass("ProjectionFilter",{base:_p.r(20),constructor:function(d,e,h){this.callBase(),this.gaussianblurEffect=new a(d,b.INPUT_SOURCE_ALPHA),this.gaussianblurEffect.set("result","gaussianblur"),this.addEffect(this.gaussianblurEffect),this.offsetEffect=new g(e,h,this.gaussianblurEffect),this.offsetEffect.set("result","offsetBlur"),this.addEffect(this.offsetEffect),this.colorMatrixEffect=new c(c.TYPE_MATRIX,this.offsetEffect),this.colorMatrixEffect.set("values",c.MATRIX_ORIGINAL),this.colorMatrixEffect.set("result","colorOffsetBlur"),this.addEffect(this.colorMatrixEffect),this.compositeEffect=new f(f.OPERATOR_OVER,b.INPUT_SOURCE_GRAPHIC,this.colorMatrixEffect),this.addEffect(this.compositeEffect)},setColor:function(a){var b=null,f=[];if(e.isString(a)&&(a=d.parse(a)),!a)return this;b=c.MATRIX_EMPTY.split(" "),f.push(a.get("r")),f.push(a.get("g")),f.push(a.get("b"));for(var g=0,h=f.length;h>g;g++)b[5*g+3]=f[g]/255;return b[18]=a.get("a"),this.colorMatrixEffect.set("values",b.join(" ")),this},setOpacity:function(a){var b=this.colorMatrixEffect.get("values").split(" ");return b[18]=a,this.colorMatrixEffect.set("values",b.join(" ")),this},setOffset:function(a,b){this.setOffsetX(a),this.setOffsetY(b)},setOffsetX:function(a){this.offsetEffect.set("dx",a)},setOffsetY:function(a){this.offsetEffect.set("dy",a)},setDeviation:function(a){this.gaussianblurEffect.set("stdDeviation",a)}})}},_p[23]={value:function(){return _p.r(11).createClass("Bezier",{mixins:[_p.r(51)],base:_p.r(46),constructor:function(a){this.callBase(),a=a||[],this.changeable=!0,this.setBezierPoints(a)},getBezierPoints:function(){return this.getPoints()},setBezierPoints:function(a){return this.setPoints(a)},onContainerChanged:function(){this.changeable&&this.update()},update:function(){var a=null,b=this.getBezierPoints();if(!(b.length<2)){a=this.getDrawer(),a.clear();var c=b[0].getVertex(),d=null,e=null;a.moveTo(c.x,c.y);for(var f=1,g=b.length;g>f;f++)c=b[f].getVertex(),e=b[f].getBackward(),d=b[f-1].getForward(),a.bezierTo(d.x,d.y,e.x,e.y,c.x,c.y);return this}}})}},_p[24]={value:function(){var a=_p.r(63),b=_p.r(73),c=_p.r(11).createClass("BezierPoint",{constructor:function(b,c,d){this.vertex=new a(b,c),this.forward=new a(b,c),this.backward=new a(b,c),this.setSmooth(void 0===d||d),this.setSymReflaction(!0)},clone:function(){var a=new c,b=null;return b=this.getVertex(),a.setVertex(b.x,b.y),b=this.getForward(),a.setForward(b.x,b.y),b=this.getBackward(),a.setBackward(b.x,b.y),a.setSymReflaction(this.isSymReflaction),a.setSmooth(this.isSmooth()),a},setVertex:function(a,b){return this.vertex.setPoint(a,b),this.update(),this},moveTo:function(a,b){var c=this.forward.getPoint(),d=this.backward.getPoint(),e=this.vertex.getPoint(),f={left:a-e.x,top:b-e.y};this.forward.setPoint(c.x+f.left,c.y+f.top),this.backward.setPoint(d.x+f.left,d.y+f.top),this.vertex.setPoint(a,b),this.update()},setForward:function(a,b){return this.forward.setPoint(a,b),this.smooth&&this.updateAnother(this.forward,this.backward),this.update(),this.lastControlPointSet=this.forward,this},setBackward:function(a,b){return this.backward.setPoint(a,b),this.smooth&&this.updateAnother(this.backward,this.forward),this.update(),this.lastControlPointSet=this.backward,this},setSymReflaction:function(a){return this.symReflaction=a,this.smooth&&this.setSmooth(!0),this},isSymReflaction:function(){return this.symReflaction},updateAnother:function(a,c){var d=this.getVertex(),e=b.fromPoints(a.getPoint(),d),f=b.fromPoints(d,c.getPoint());return f=e.normalize(this.isSymReflaction()?e.length():f.length()),c.setPoint(d.x+f.x,d.y+f.y),this},setSmooth:function(a){var b;return this.smooth=!!a,this.smooth&&(b=this.lastControlPointSet)&&this.updateAnother(b,b==this.forward?this.backward:this.forward),this},isSmooth:function(){return this.smooth},getVertex:function(){return this.vertex.getPoint()},getForward:function(){return this.forward.getPoint()},getBackward:function(){return this.backward.getPoint()},update:function(){return this.container?void(this.container.update&&this.container.update(this)):this}});return c}},_p[25]={value:function(){var a=_p.r(11).createClass("Box",{constructor:function(a,b,c,d){var e=arguments[0];e&&"object"==typeof e&&(a=e.x,b=e.y,c=e.width,d=e.height),0>c&&(a-=c=-c),0>d&&(b-=d=-d),this.x=a||0,this.y=b||0,this.width=c||0,this.height=d||0,this.left=this.x,this.right=this.x+this.width,this.top=this.y,this.bottom=this.y+this.height,this.cx=this.x+this.width/2,this.cy=this.y+this.height/2},getRangeX:function(){return[this.left,this.right]},getRangeY:function(){return[this.top,this.bottom]},merge:function(b){if(this.isEmpty())return new a(b.x,b.y,b.width,b.height);var c=Math.min(this.left,b.left),d=Math.max(this.right,b.right),e=Math.min(this.top,b.top),f=Math.max(this.bottom,b.bottom);return new a(c,e,d-c,f-e)},intersect:function(b){!b instanceof a&&(b=new a(b));var c=Math.max(this.left,b.left),d=Math.min(this.right,b.right),e=Math.max(this.top,b.top),f=Math.min(this.bottom,b.bottom);return c>d||e>f?new a:new a(c,e,d-c,f-e)},expand:function(b,c,d,e){if(arguments.length<1)return new a(this);arguments.length<2&&(c=b),arguments.length<3&&(d=b),arguments.length<4&&(e=c);var f=this.left-e,g=this.top-b,h=this.width+c,i=this.height+b;return new a(f,g,h,i)},valueOf:function(){return[this.x,this.y,this.width,this.height]},toString:function(){return this.valueOf().join(" ")},isEmpty:function(){return!this.width||!this.height}});return a.parse=function(b){return"string"==typeof b?a.parse(b.split(/[\s,]+/).map(parseFloat)):b instanceof Array?new a(b[0],b[1],b[2],b[3]):"x"in b?new a(b):null},a}},_p[26]={value:function(){return _p.r(11).createClass("Circle",{base:_p.r(32),constructor:function(a,b,c){this.callBase(a,a,b,c)},getRadius:function(){return this.getRadiusX()},setRadius:function(a){return this.callBase(a,a)}})}},_p[27]={value:function(){var a=_p.r(11),b=_p.r(60),c=a.createClass("Clip",{base:b,mixins:[_p.r(61)],constructor:function(a){this.callBase("clipPath",a)},clip:function(a){return a.getNode().setAttribute("clip-path",this),this}});return a.extendClass(b,{clipWith:function(a){return a instanceof b&&(a=new c(a.getPaper()).addShape(a)),a.clip(this),this}}),c}},_p[28]={value:function(){var a=_p.r(12),b=_p.r(64),c={},d=_p.r(11).createClass("Color",{constructor:function(){var b=null;"string"==typeof arguments[0]?(b=c.parseToValue(arguments[0]),null===b&&(b={r:0,g:0,b:0,h:0,s:0,l:0,a:1})):(b={r:0|arguments[0],g:0|arguments[1],b:0|arguments[2],a:void 0===arguments[3]?1:parseFloat(arguments[3])},b=c.overflowFormat(b),b=a.extend(b,c.rgbValueToHslValue(b))),this._color=b},set:function(b,e){if(!d._MAX_VALUE[b])throw new Error("Color set(): Illegal parameter");return"a"!==b&&(e=Math.floor(e)),"h"==b&&(e=(e+360)%360),this._color[b]=Math.max(d._MIN_VALUE[b],Math.min(d._MAX_VALUE[b],e)),-1!=="rgb".indexOf(b)?this._color=a.extend(this._color,c.rgbValueToHslValue(this._color)):-1!=="hsl".indexOf(b)&&(this._color=a.extend(this._color,c.hslValueToRGBValue(this._color))),this},inc:function(a,b){return b=this.get(a)+b,"h"==a?b=(b+360)%360:(b=Math.min(d._MAX_VALUE[a],b),b=Math.max(d._MIN_VALUE[a],b)),this.clone().set(a,b)},dec:function(a,b){return this.inc(a,-b)},clone:function(){return new d(this.toRGBA())},get:function(a){return d._MAX_VALUE[a]?this._color[a]:null},getValues:function(){return a.clone(this._color)},valueOf:function(){return this.getValues()},toRGB:function(){return c.toString(this._color,"rgb")},toRGBA:function(){return c.toString(this._color,"rgba")},toHEX:function(){return c.toString(this._color,"hex")},toHSL:function(){return c.toString(this._color,"hsl")},toHSLA:function(){return c.toString(this._color,"hsla")},toString:function(){return 1===this._color.a?this.toRGB():this.toRGBA()}});return a.extend(d,{_MAX_VALUE:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},_MIN_VALUE:{r:0,g:0,b:0,h:0,s:0,l:0,a:0},R:"r",G:"g",B:"b",H:"h",S:"s",L:"l",A:"a",parse:function(b){var e;return a.isString(b)&&(e=c.parseToValue(b)),a.isObject(b)&&"r"in b&&(e=b),null===e?new d:new d(e.r,e.g,e.b,e.a)},createHSL:function(a,b,c){return d.createHSLA(a,b,c,1)},createHSLA:function(a,b,c,e){var f=null;return b+="%",c+="%",f=["hsla("+a,b,c,e+")"],d.parse(f.join(", "))},createRGB:function(a,b,c){return d.createRGBA(a,b,c,1)},createRGBA:function(a,b,c,e){return new d(a,b,c,e)}}),a.extend(c,{parseToValue:function(a){var d={};if(a=b.EXTEND_STANDARD[a]||b.COLOR_STANDARD[a]||a,/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(a))d=c.hexToValue(a);else if(/^(rgba?)/i.test(a))d=c.rgbaToValue(a);else{if(!/^(hsla?)/i.test(a))return null;d=c.hslaToValue(a)}return c.overflowFormat(d)},hexToValue:function(b){var d={},e=["r","g","b"];return/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(b)?(b=RegExp.$1.split(""),a.each(e,function(a,e){d[a]=c.toNumber(3===b.length?b[e]+b[e]:b[2*e]+b[2*e+1])}),d=a.extend(d,c.rgbValueToHslValue(d)),d.a=1,d):null},rgbaToValue:function(b){var d={},e=!1,f=["r","g","b"];return/^(rgba?)/i.test(b)?(e=4===RegExp.$1.length,b=b.replace(/^rgba?/i,"").replace(/\s+/g,"").replace(/[^0-9,.]/g,"").split(","),a.each(f,function(a,c){d[a]=0|b[c]}),d=a.extend(d,c.rgbValueToHslValue(d)),d.a=e?parseFloat(b[3]):1,d):null},hslaToValue:function(b){var d={},e=!1;return/^(hsla?)/i.test(b)?(e=4===RegExp.$1.length,b=b.replace(/^hsla?/i,"").replace(/\s+/g,"").replace(/[^0-9,.]/g,"").split(","),d.h=0|b[0],d.s=0|b[1],d.l=0|b[2],d=a.extend(d,c.hslValueToRGBValue(d)),d=c.hslValueToRGBValue(d),d.a=e?parseFloat(b[3]):1,d):null},hslValueToRGBValue:function(b){function c(a,b,c){return 0>c?c+=1:c>1&&(c-=1),1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}var d=null,e=null,f={};return b=a.extend({},b),b.h=b.h/360,b.s=b.s/100,b.l=b.l/100,0===b.s?f.r=f.g=f.b=b.l:(d=b.l<.5?b.l*(1+b.s):b.l+b.s-b.l*b.s,e=2*b.l-d,f.r=c(e,d,b.h+1/3),f.g=c(e,d,b.h),f.b=c(e,d,b.h-1/3)),f.r=Math.min(Math.round(255*f.r),255),f.g=Math.min(Math.round(255*f.g),255),f.b=Math.min(Math.round(255*f.b),255),f},rgbValueToHslValue:function(b){var c=null,d=null,e={};return b=a.extend({},b),b.r=b.r/255,b.g=b.g/255,b.b=b.b/255,c=Math.max(b.r,b.g,b.b),d=Math.min(b.r,b.g,b.b),c===d?e.h=0:c===b.r?e.h=b.g>=b.b?60*(b.g-b.b)/(c-d):60*(b.g-b.b)/(c-d)+360:c===b.g?e.h=60*(b.b-b.r)/(c-d)+120:c===b.b&&(e.h=60*(b.r-b.g)/(c-d)+240),e.l=(c+d)/2,e.s=0===e.l||c===d?0:e.l>0&&e.l<=.5?(c-d)/(c+d):(c-d)/(2-c-d),e.h=Math.round(e.h),e.s=Math.round(100*e.s),e.l=Math.round(100*e.l),e
},toString:function(b,d){var e=[];return b=a.extend({},b),-1!==d.indexOf("hsl")&&(b.s+="%",b.l+="%"),"hex"!==d?(a.each(d.split(""),function(a){e.push(b[a])}),(d+"("+e.join(", ")+")").toLowerCase()):(e.push(c.toHexValue(+b.r)),e.push(c.toHexValue(+b.g)),e.push(c.toHexValue(+b.b)),("#"+e.join("")).toLowerCase())},toNumber:function(a){return 0|Number("0x"+a)},toHexValue:function(a){var b=a.toString(16);return 1===b.length?"0"+b:b},overflowFormat:function(b){var c=a.extend({},b),e="rgba";return a.each(e.split(""),function(a){c.hasOwnProperty(a)&&(c[a]=Math.min(d._MAX_VALUE[a],c[a]),c[a]=Math.max(d._MIN_VALUE[a],c[a]))}),c}}),d}},_p[29]={value:function(){function a(){return this.container.removeItem(this),this}return _p.r(11).createClass("Container",{getItems:function(){return this.items||(this.items=[])},getItem:function(a){return this.getItems()[a]},getFirstItem:function(){return this.getItem(0)},getLastItem:function(){return this.getItem(this.getItems().length-1)},indexOf:function(a){return this.getItems().indexOf(a)},eachItem:function(a){var b,c=this.getItems(),d=c.length;for(b=0;d>b;b++)a.call(this,b,c[b]);return this},addItem:function(b,c,d){var e=this.getItems(),f=e.length;return~e.indexOf(b)?this:(c>=0&&f>c||(c=f),e.splice(c,0,b),"object"==typeof b&&(b.container=this,b.remove=a),this.handleAdd(b,c),d||this.onContainerChanged("add",[b]),this)},addItems:function(a){for(var b=0,c=a.length;c>b;b++)this.addItem(a[b],-1,!0);return this.onContainerChanged("add",a),this},setItems:function(a){return this.clear().addItems(a)},appendItem:function(a){return this.addItem(a)},prependItem:function(a){return this.addItem(a,0)},removeItem:function(a,b){if("number"!=typeof a)return this.removeItem(this.indexOf(a));var c=this.getItems(),d=(c.length,c[a]);return void 0===d?this:(c.splice(a,1),d.container&&delete d.container,d.remove&&delete d.remove,this.handleRemove(d,a),b||this.onContainerChanged("remove",[d]),this)},clear:function(){for(var a,b=[];a=this.getFirstItem();)b.push(a),this.removeItem(0,!0);return this.onContainerChanged("remove",b),this},onContainerChanged:function(){},handleAdd:function(){},handleRemove:function(){}})}},_p[30]={value:function(){var a=_p.r(12),b={getCurvePanLines:function(a,c){var d=b.getCenterPoints(a),e=b.getPanLine(a.length,d);return b.getMovedPanLines(a,e,c)},getCenterPoints:function(a){for(var b={},c=null,d=0,e=0,f=a.length;f>d;d++)e=d===f-1?0:d+1,c=d+","+e,b[c]={x:(a[d].x+a[e].y)/2,y:(a[d].x+a[e].y)/2};return b},getPanLine:function(a,b){for(var c,d={},e=null,f=0;a>f;f++){var g=null,h=null;c=(f+1)%a,e=c,g=b[f+","+c],f=c,c=(f+1)%a,h=b[f+","+c],d[e]={points:[{x:g.x,y:g.y},{x:h.x,y:h.y}],center:{x:(g.x+h.x)/2,y:(g.y+h.y)/2}},f=(e+a-1)%a}return d},getMovedPanLines:function(b,c,d){var e={};return a.each(b,function(b,f){var g=c[f],h=g.center,i={x:h.x-b.x,y:h.y-b.y},j=e[f]={points:[],center:{x:b.x,y:b.y}};a.each(g.points,function(a){var b={x:a.x-i.x,y:a.y-i.y},c=j.center,e=b.x-c.x,f=b.y-c.y;b.x=c.x+d*e,b.y=c.y+d*f,j.points.push(b)})}),e}};return _p.r(11).createClass("Curve",{base:_p.r(46),mixins:[_p.r(51)],constructor:function(a,b){this.callBase(),this.setPoints(a||[]),this.closeState=!!b,this.changeable=!0,this.smoothFactor=1,this.update()},onContainerChanged:function(){this.changeable&&this.update()},setSmoothFactor:function(a){return this.smoothFactor=0>a?0:a,this.update(),this},getSmoothFactor:function(){return this.smoothFactor},update:function(){var a=this.getPoints(),c=null,d=this.getDrawer(),e=null,f=null,g=null;if(d.clear(),0===a.length)return this;if(d.moveTo(a[0]),1===a.length)return this;if(2===a.length)return d.lineTo(a[1]),this;c=b.getCurvePanLines(a,this.getSmoothFactor());for(var h=1,i=a.length;i>h;h++)e=c[h].center,f=this.closeState||h!=i-1?c[h].points[0]:c[h].center,g=this.closeState||1!=h?c[h-1].points[1]:c[h-1].center,d.bezierTo(g.x,g.y,f.x,f.y,e.x,e.y);return this.closeState&&(e=c[0].center,f=c[0].points[0],g=c[a.length-1].points[1],d.bezierTo(g.x,g.y,f.x,f.y,e.x,e.y)),this},close:function(){return this.closeState=!0,this.update()},open:function(){return this.closeState=!1,this.update()},isClose:function(){return!!this.closeState}})}},_p[31]={value:function(){return _p.r(11).createClass("Data",{constructor:function(){this._data={}},setData:function(a,b){return this._data[a]=b,this},getData:function(a){return this._data[a]},removeData:function(a){return delete this._data[a],this}})}},_p[32]={value:function(){var a=(_p.r(12),_p.r(50));return _p.r(11).createClass("Ellipse",{base:_p.r(46),constructor:function(a,b,c,d){this.callBase(),this.rx=a||0,this.ry=b||0,this.cx=c||0,this.cy=d||0,this.update()},update:function(){var a=this.rx,b=this.ry,c=this.cx+a,d=this.cx-a,e=this.cy,f=this.getDrawer();return f.clear(),f.moveTo(c,e),f.arcTo(a,b,0,1,1,d,e),f.arcTo(a,b,0,1,1,c,e),this},getRadius:function(){return{x:this.rx,y:this.ry}},getRadiusX:function(){return this.rx},getRadiusY:function(){return this.ry},getCenter:function(){return new a(this.cx,this.cy)},getCenterX:function(){return this.cx},getCenterY:function(){return this.cy},setRadius:function(a,b){return this.rx=a,this.ry=b,this.update()},setRadiusX:function(a){return this.rx=a,this.update()},setRadiusY:function(a){return this.ry=a,this.update()},setCenter:function(b,c){if(1==arguments.length){var d=a.parse(arguments[0]);b=d.x,c=d.y}return this.cx=b,this.cy=c,this.update()},setCenterX:function(a){return this.cx=a,this.update()},setCenterY:function(a){return this.cy=a,this.update()}})}},_p[33]={value:function(){function a(a,b,d){return d=!!d,g.isString(a)&&(a=a.match(/\S+/g)),g.each(a,function(a){c.call(this,this.node,a,b,d)},this),this}function b(a,b){var c=null,d=this._EVNET_UID,f=void 0===b;return c=j[d][a],f||(f=!0,g.each(c,function(a,d){a===b?delete c[d]:f=!1})),f&&(e(this.node,a,i[d][a]),delete j[d][a],delete i[d][a]),this}function c(a,b,c,e){var f=this._EVNET_UID,k=this;i[f]||(i[f]={}),i[f][b]||(i[f][b]=function(a){a=new h(a||window.event),g.each(j[f][b],function(c){var d;return c&&(d=c.call(k,a),e&&k.off(b,c)),d},k)}),j[f]||(j[f]={}),j[f][b]?j[f][b].push(c):(j[f][b]=[c],a&&"on"+b in a&&d(a,b,i[f][b]))}function d(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}function e(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent(b,c)}function f(a,b,c){var d=null,e=null,f=i[a._EVNET_UID];f&&(e=f[b],e&&(d=g.extend({type:b,target:a},c||{}),e.call(a,d)))}!function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}a.prototype=window.Event.prototype,window.CustomEvent=a}();var g=_p.r(12),h=_p.r(62),i={},j={},k=0;return _p.r(11).createClass("EventHandler",{constructor:function(){this._EVNET_UID=++k},addEventListener:function(b,c){return a.call(this,b,c,!1)},addOnceEventListener:function(b,c){return a.call(this,b,c,!0)},removeEventListener:function(a,c){return b.call(this,a,c)},on:function(){return this.addEventListener.apply(this,arguments)},once:function(){return this.addOnceEventListener.apply(this,arguments)},off:function(){return this.removeEventListener.apply(this,arguments)},fire:function(){return this.trigger.apply(this,arguments)},trigger:function(a,b){return f(this,a,b),this}})}},_p[34]={value:function(){function a(a){var b,c,d,e,f;for(b=[],c=0;c<a.length;c++)for(e=a[c],b.push(f=[]),d=0;d<e.length;d++)f.push(e[d]);return a.isUniform&&(b.isUniform=!0),a.isAbsolute&&(b.isAbsolute=!0),a.isCurve&&(b.isCurve=!0),b}function b(a,b,c){function d(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return a.push(a.splice(c,1)[0])}function e(){var f=Array.prototype.slice.call(arguments,0),g=f.join("␀"),h=e.cache=e.cache||{},i=e.count=e.count||[];return h.hasOwnProperty(g)?(d(i,g),c?c(h[g]):h[g]):(i.length>=1e3&&delete h[i.shift()],i.push(g),h[g]=a.apply(b,f),c?c(h[g]):h[g])}return e}function c(a,b,d,e,f,g,h,i,j,k){var l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q=Math,R=Q.PI,S=Math.abs,T=120*R/180,U=R/180*(+f||0),V=[],W=function(a,b,c){var d=a*Q.cos(c)-b*Q.sin(c),e=a*Q.sin(c)+b*Q.cos(c);return{x:d,y:e}};if(k?(w=k[0],x=k[1],u=k[2],v=k[3]):(l=W(a,b,-U),a=l.x,b=l.y,l=W(i,j,-U),i=l.x,j=l.y,m=Q.cos(R/180*f),n=Q.sin(R/180*f),p=(a-i)/2,q=(b-j)/2,o=p*p/(d*d)+q*q/(e*e),o>1&&(o=Q.sqrt(o),d=o*d,e=o*e),r=d*d,s=e*e,t=(g==h?-1:1)*Q.sqrt(S((r*s-r*q*q-s*p*p)/(r*q*q+s*p*p))),u=t*d*q/e+(a+i)/2,v=t*-e*p/d+(b+j)/2,w=Q.asin(((b-v)/e).toFixed(9)),x=Q.asin(((j-v)/e).toFixed(9)),w=u>a?R-w:w,x=u>i?R-x:x,0>w&&(w=2*R+w),0>x&&(x=2*R+x),h&&w>x&&(w-=2*R),!h&&x>w&&(x-=2*R)),y=x-w,S(y)>T&&(z=x,A=i,B=j,x=w+T*(h&&x>w?1:-1),i=u+d*Q.cos(x),j=v+e*Q.sin(x),V=c(i,j,d,e,f,0,h,A,B,[x,z,u,v])),y=x-w,C=Q.cos(w),D=Q.sin(w),E=Q.cos(x),F=Q.sin(x),G=Q.tan(y/4),H=4/3*d*G,I=4/3*e*G,J=[a,b],K=[a+H*D,b-I*C],L=[i+H*F,j-I*E],M=[i,j],K[0]=2*J[0]-K[0],K[1]=2*J[1]-K[1],k)return[K,L,M].concat(V);for(V=[K,L,M].concat(V).join().split(","),N=[],O=0,P=V.length;P>O;O++)N[O]=O%2?W(V[O-1],V[O],U).y:W(V[O],V[O+1],U).x;return N}function d(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]}function e(a,b){function c(a){return function(b,c){return b+a*(c-b)}}var d=c(b||.5),e=a,f=e[0],g=e[1],h=e[2],i=e[3],j=e[4],k=e[5],l=e[6],m=e[7],n=d(f,h),o=d(g,i),p=d(h,j),q=d(i,k),r=d(j,l),s=d(k,m),t=d(n,p),u=d(o,q),v=d(p,r),w=d(q,s),x=d(t,v),y=d(u,w);return[[f,g,n,o,t,u,x,y],[x,y,v,w,r,s,l,m]]}var f=_p.r(12),g=_p.r(50),h=_p.r(73),i=_p.r(43),j={},k=/([achlmrqstvz])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?\s*)+)/gi,l=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)\s*,?\s*/gi,m={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0};j.pathToString=function(a){return a=a||this,"string"==typeof a?a:a instanceof Array?(a=f.flatten(a),a.join(",").replace(/,?([achlmqrstvxz]),?/gi,"$1")):void 0},j.parsePathString=b(function(a){var b=[];return a.replace(k,function(a,c,d){var e=[],f=c.toLowerCase();if(d.replace(l,function(a,b){b&&e.push(+b)}),"m"==f&&e.length>2&&(b.push([c].concat(e.splice(0,2))),f="l",c="m"==c?"l":"L"),"r"==f)b.push([c].concat(e));else for(;e.length>=m[f]&&(b.push([c].concat(e.splice(0,m[f]))),m[f]););}),b.isUniform=!0,b.toString=j.pathToString,b}),j.pathToAbsolute=b(function(a){var b,c,d,e,f,g,h,i,k=a.isUniform?a:j.parsePathString(j.pathToString(a)),l=[],m=0,n=0,o=0,p=0,q=0;for("M"==k[0][0]&&(m=+k[0][1],n=+k[0][2],o=m,p=n,q++,l[0]=["M",m,n]),d=q,g=k.length;g>d;d++){if(l.push(b=[]),c=k[d],c[0]!=c[0].toUpperCase())switch(b[0]=c[0].toUpperCase(),b[0]){case"A":b[1]=c[1],b[2]=c[2],b[3]=c[3],b[4]=c[4],b[5]=c[5],b[6]=+(c[6]+m),b[7]=+(c[7]+n);break;case"V":b[1]=+c[1]+n;break;case"H":b[1]=+c[1]+m;break;case"M":o=+c[1]+m,p=+c[2]+n;break;default:for(e=1,h=c.length;h>e;e++)b[e]=+c[e]+(e%2?m:n)}else for(f=0,i=c.length;i>f;f++)b[f]=c[f];switch(b[0]){case"Z":m=o,n=p;break;case"H":m=b[1];break;case"V":n=b[1];break;case"M":o=b[b.length-2],p=b[b.length-1];break;default:m=b[b.length-2],n=b[b.length-1]}}return l.isUniform=!0,l.isAbsolute=!0,l.toString=j.pathToString,l}),j.pathToCurve=b(function(a){var b,e,f,g,h,i,k,l,m,n,o,p,q=[];for(a.isAbsolute||(a=j.pathToAbsolute(a)),b=0;b<a.length;b++)if(f=a[b][0],g=a[b].slice(1),"M"!=f){switch("Z"==f&&(l=!0,f="L",g=h),k=g.slice(g.length-2),"H"==f&&(k=[g[0],i[1]],f="L"),"V"==f&&(k=[i[0],g[0]],f="L"),("S"==f||"T"==f)&&(n=[i[0]+(i[0]-m[0]),i[1]+(i[1]-m[1])]),f){case"L":o=i,p=k;break;case"C":o=g.slice(0,2),p=g.slice(2,4);break;case"S":o=n.slice(),p=g.slice(0,2);break;case"Q":m=g.slice(0,2),g=d.apply(null,i.concat(g)),o=g.slice(0,2),p=g.slice(2,4);break;case"T":g=d.apply(null,i.concat(n).concat(g)),o=g.slice(0,2),p=g.slice(2,4);break;case"A":for(g=c.apply(null,i.concat(g)),e=0;e in g;)o=g.slice(e,e+2),p=g.slice(e+2,e+4),k=g.slice(e+4,e+6),q.push(["C"].concat(o).concat(p).concat(k)),e+=6}"A"!=f&&q.push(["C"].concat(o).concat(p).concat(k)),i=k,"Q"!=f&&(m=p),l&&(q.push(["Z"]),l=!1)}else h=m=i=g,q.push(a[b]);return q.isUniform=!0,q.isAbsolute=!0,q.isCurve=!0,q.toString=j.pathToString,q}),j.cutBezier=b(e),j.subBezier=function(a,b,c){var d=e(a,b)[0];return c?e(d,c/b)[1]:d},j.pointAtBezier=function(a,b){var c=e(a,b)[0],d=g.parse(c.slice(6)),f=g.parse(c.slice(4,2)),i=h.fromPoints(f,d);return d.tan=0===b?j.pointAtBezier(a,.01).tan:i.normalize(),d},j.bezierLength=b(function(a){function b(a){var b=i*Math.pow(a,4)+j*Math.pow(a,3)+k*Math.pow(a,2)+l*a+m;return 0>b&&(b=0),Math.pow(b,.5)}var c,d,e,f,g,h,i,j,k,l,m,n=a;return c=-3*n[0]+9*n[2]-9*n[4]+3*n[6],d=6*n[0]-12*n[2]+6*n[4],e=-3*n[0]+3*n[2],f=-3*n[1]+9*n[3]-9*n[5]+3*n[7],g=6*n[1]-12*n[3]+6*n[5],h=-3*n[1]+3*n[3],i=Math.pow(c,2)+Math.pow(f,2),j=2*(c*d+f*g),k=2*(c*e+f*h)+Math.pow(d,2)+Math.pow(g,2),l=2*(d*e+g*h),m=Math.pow(e,2)+Math.pow(h,2),(b(0)+b(1)+4*(b(.125)+b(.375)+b(.625)+b(.875))+2*(b(.25)+b(.5)+b(.75)))/24});var n=b(function(a){var b,c,d,e,f,g,h;for(g=[],h=0,b=0,c=a.length;c>b;b++)d=a[b],"M"!=d[0]?"Z"!=d[0]?(f=j.bezierLength(e.concat(d.slice(1))),g.push([h,h+f]),h+=f,e=d.slice(4)):g.push(null):(e=d.slice(1),g.push(null));return g.totalLength=h,g});j.subPath=function(a,b,c){var d;if(c=c||0,d=b-c,d-=0|d,c-=0|c,b=c+d,b>1)return j.subPath(a,1,c).concat(j.subPath(a,b-1));a.isCurve||(a=j.pathToCurve(a));var e,f,g,h,i,k,l,m,o,p=n(a),q=p.totalLength,r=q*b,s=q*(c||0),t=[];for(e=0,f=a.length;f>e;e++)if("M"!=a[e][0]){if("Z"!=a[e][0])if(g=p[e][0],h=p[e][1],i=h-g,l=k.concat(a[e].slice(1)),s>h)k=l.slice(l.length-2);else{if(s>=g)m=j.subBezier(l,Math.min((r-g)/i,1),(s-g)/i),o=!0,k=m.slice(0,2),t.push(["M"].concat(m.slice(0,2))),t.push(["C"].concat(m.slice(2)));else if(r>=h)t.push(a[e].slice());else{if(!(r>=g))break;m=j.subBezier(l,(r-g)/i),t.push(["C"].concat(m.slice(2))),o=!1}k=l.slice(l.length-2)}}else k=a[e].slice(1),o&&t.push(a[e].slice());return t.isAbsolute=!0,t.isCurve=!0,t.isUniform=!0,t.toString=j.pathToString,t},j.pointAtPath=function(a,b){a.isCurve||(a=j.pathToCurve(a));var c=j.subPath(a,b),d="Z"==c[c.length-1][0]?c[c.length-2]:c[c.length-1];d=d.slice(1);var e=g.parse(d.slice(4)),f=g.parse(d.slice(2,4));return e.tan=h.fromPoints(f,e).normalize(),e},j.pathLength=b(function(a){a.isCurve||(a=j.pathToCurve(a));var b=n(a);return b.totalLength}),j.pathKeyPoints=b(function(a){var b,c,d;for(a.isCurve||(a=j.pathToCurve(a)),d=[],b=0,c=a.length;c>b;b++)"z"!=a[b][0]&&d.push(a[b].slice(a[b].length-2));return d});var o=b(function(b,c){function d(a,b){return a[b||a.i]&&a[b||a.i][0]}function e(a,b){return a[b||a.i]&&a[b||a.i].slice(1)}function f(a,b){var c=e(a,b);return c&&c.slice(-2)}function g(a){return"Z"==d(a)?(a.splice(a.i,1),!0):!1}function h(a){return"M"==d(a)?(a.o.splice(a.o.i,0,["M"].concat(f(a.o,a.o.i-1))),a.i++,a.o.i++,!0):!1}function i(a){for(var b,c=1;!b;)b=f(a,a.length-c++);for(a.o.i=a.i;a.length<a.o.length;)g(a.o)||h(a.o)||(a.push(["C"].concat(b).concat(b).concat(b)),a.i++,a.o.i++)}b.isCurve||(b=j.pathToCurve(b)),c.isCurve||(c=j.pathToCurve(c));var k=a(b),l=a(c);for(k.i=0,l.i=0,k.o=l,l.o=k;k.i<k.length&&l.i<l.length;)g(k)||g(l)||(d(k)!=d(l)?h(k)||h(l)||(k.i++,l.i++):(k.i++,l.i++));return k.i==k.length&&i(k),l.i==l.length&&i(l),delete k.i,delete k.o,delete l.i,delete l.o,[k,l]});return j.alignCurve=o,j.pathTween=function(a,b,c){if(0===c)return a;if(1===c)return b;var d,e,f,g=o(a,b),h=[];for(a=g[0],b=g[1],e=0;e<a.length;e++)for(h.push(d=[]),d.push(a[e][0]),f=1;f<a[e].length;f++)d.push(a[e][f]+c*(b[e][f]-a[e][f]));return h.isUniform=h.isCurve=h.isAbsolute=!0,h},j.transformPath=b(function(a,b){var c,d,e,f,h,i;for(a.isCurve||(a=j.pathToCurve(a)),f=[],c=0,d=a.length;d>c;c++)for(f.push(h=[a[c][0]]),e=1;e<a[c].length;e+=2)i=a[c].slice(e,e+2),i=b.transformPoint(g.parse(i)),f.push(i);return f}),_p.r(11).extendClass(i,{transformPath:function(a){return j.transformPath(a,this)}}),j}},_p[35]={value:function(){var a=_p.r(67),b=_p.r(58),c=_p.r(28);return _p.r(11).createClass("GradientBrush",{base:b,constructor:function(a,b){this.callBase(a,b),this.stops=[]},addStop:function(b,d,e){var f=a.createNode("stop");return d instanceof c||(d=c.parse(d)),void 0===e&&(e=d.get("a")),f.setAttribute("offset",b),f.setAttribute("stop-color",d.toRGB()),1>e&&f.setAttribute("stop-opacity",e),this.node.appendChild(f),this}})}},_p[36]={value:function(){var a=_p.r(61);return _p.r(11).createClass("Group",{mixins:[a],base:_p.r(60),constructor:function(){this.callBase("g")}})}},_p[37]={value:function(){var a=_p.r(61);return _p.r(11).createClass("HyperLink",{mixins:[a],base:_p.r(60),constructor:function(a){this.callBase("a"),this.setHref(a)},setHref:function(a){return this.node.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),this},getHref:function(){return this.node.getAttributeNS("xlink:href")},setTarget:function(a){return this.node.setAttribute("target",a),this},getTarget:function(){return this.node.getAttribute("target")}})}},_p[38]={value:function(){return _p.r(11).createClass("Image",{base:_p.r(60),constructor:function(a,b,c,d,e){this.callBase("image"),this.url=a,this.width=b||0,this.height=c||0,this.x=d||0,this.y=e||0,this.update()},update:function(){return this.node.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.url),this.node.setAttribute("x",this.x),this.node.setAttribute("y",this.y),this.node.setAttribute("width",this.width),this.node.setAttribute("height",this.height),this},setUrl:function(a){return this.url=""===a?null:a,this.update()},getUrl:function(){return this.url},setWidth:function(a){return this.width=a,this.update()},getWidth:function(){return this.width},setHeight:function(a){return this.height=a,this.update()},getHeight:function(){return this.height},setX:function(a){return this.x=a,this.update()},getX:function(){return this.x},setY:function(a){return this.y=a,this.update()},getY:function(){return this.y}})}},_p[39]={value:function(){return _p.r(11).createClass("Line",{base:_p.r(46),constructor:function(a,b,c,d){this.callBase(),this.point1={x:a||0,y:b||0},this.point2={x:c||0,y:d||0},this.update()},setPoint1:function(a,b){return this.point1.x=a,this.point1.y=b,this.update()},setPoint2:function(a,b){return this.point2.x=a,this.point2.y=b,this.update()},getPoint1:function(){return{x:this.point1.x,y:this.point1.y}},getPoint2:function(){return{x:this.point2.x,y:this.point2.y}},update:function(){var a=this.getDrawer();return a.clear(),a.moveTo(this.point1.x,this.point1.y),a.lineTo(this.point2.x,this.point2.y),this}})}},_p[40]={value:function(){var a=(_p.r(67),_p.r(35));return _p.r(11).createClass("LinearGradientBrush",{base:a,constructor:function(a){this.callBase("linearGradient",a),this.setStartPosition(0,0),this.setEndPosition(1,0)},setStartPosition:function(a,b){return this.node.setAttribute("x1",a),this.node.setAttribute("y1",b),this},setEndPosition:function(a,b){return this.node.setAttribute("x2",a),this.node.setAttribute("y2",b),this},getStartPosition:function(){return{x:+this.node.getAttribute("x1"),y:+this.node.getAttribute("y1")}},getEndPosition:function(){return{x:+this.node.getAttribute("x2"),y:+this.node.getAttribute("y2")}}})}},_p[41]={value:function(){var a=_p.r(50),b=_p.r(11).createClass("Marker",{base:_p.r(58),mixins:[_p.r(61),_p.r(75)],constructor:function(){this.callBase("marker"),this.setOrient("auto")},setRef:function(a,b){return 1===arguments.length&&(b=a.y,a=a.x),this.node.setAttribute("refX",a),this.node.setAttribute("refY",b),this},getRef:function(){return new a(+this.node.getAttribute("refX"),+this.node.getAttribute("refY"))},setWidth:function(a){return this.node.setAttribute("markerWidth",this.width=a),this},setOrient:function(a){return this.node.setAttribute("orient",this.orient=a),this},getOrient:function(){return this.orient},getWidth:function(){return+this.width},setHeight:function(a){return this.node.setAttribute("markerHeight",this.height=a),this},getHeight:function(){return+this.height}}),c=_p.r(46);return _p.r(11).extendClass(c,{setMarker:function(a,b){return b=b||"end",a?this.node.setAttribute("marker-"+b,a.toString()):this.node.removeAttribute("marker-"+b),this}}),b}},_p[42]={value:function(){var a=_p.r(11),b=_p.r(60),c=a.createClass("Mask",{base:b,mixins:[_p.r(61)],constructor:function(){this.callBase("mask")},mask:function(a){return a.getNode().setAttribute("mask","url(#"+this.getId()+")"),this}});return a.extendClass(b,{maskWith:function(a){return a.mask(this),this}}),c}},_p[43]={value:function(){function a(a,b){return{a:b.a*a.a+b.c*a.b,b:b.b*a.a+b.d*a.b,c:b.a*a.c+b.c*a.d,d:b.b*a.c+b.d*a.d,e:b.a*a.e+b.c*a.f+b.e,f:b.b*a.e+b.d*a.f+b.f}}function b(a){return a*Math.PI/180}var c=_p.r(12),d=_p.r(25),e=/matrix\s*\((.+)\)/i,f=_p.r(50),g=_p.r(11).createClass("Matrix",{constructor:function(){arguments.length?this.setMatrix.apply(this,arguments):this.setMatrix(1,0,0,1,0,0)},translate:function(b,c){return this.m=a(this.m,{a:1,c:0,e:b,b:0,d:1,f:c}),this},rotate:function(c){var d=b(c),e=Math.sin(d),f=Math.cos(d);return this.m=a(this.m,{a:f,c:-e,e:0,b:e,d:f,f:0}),this},scale:function(b,c){return void 0===c&&(c=b),this.m=a(this.m,{a:b,c:0,e:0,b:0,d:c,f:0}),this},skew:function(c,d){void 0===d&&(d=c);var e=Math.tan(b(c)),f=Math.tan(b(d));return this.m=a(this.m,{a:1,c:e,e:0,b:f,d:1,f:0}),this},inverse:function(){var a,b,c,d,e,f,h,i=this.m,j=i.a,k=i.b,l=i.c,m=i.d,n=i.e,o=i.f;return a=j*m-k*l,b=m/a,c=-k/a,d=-l/a,e=j/a,f=(l*o-n*m)/a,h=(k*n-j*o)/a,new g(b,c,d,e,f,h)},setMatrix:function(a,b,d,e,f,g){return this.m=1===arguments.length?c.clone(arguments[0]):{a:a,b:b,c:d,d:e,e:f,f:g},this},getMatrix:function(){return c.clone(this.m)},getTranslate:function(){var a=this.m;return{x:a.e/a.a,y:a.f/a.d}},mergeMatrix:function(b){return new g(a(this.m,b.m))},merge:function(a){return this.mergeMatrix(a)},toString:function(){return this.valueOf().join(" ")},valueOf:function(){var a=this.m;return[a.a,a.b,a.c,a.d,a.e,a.f]},equals:function(a){var b=this.m,c=a.m;return b.a==c.a&&b.b==c.b&&b.c==c.c&&b.d==c.d&&b.e==c.e&&b.f==c.f},transformPoint:function(){return g.transformPoint.apply(null,[].slice.call(arguments).concat([this.m]))},transformBox:function(a){return g.transformBox(a,this.m)},clone:function(){return new g(this.m)}});return g.parse=function(a){var b,c=parseFloat;if(a instanceof Array)return new g({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5]});if(b=e.exec(a)){var d=b[1].split(",");return 6!=d.length&&(d=b[1].split(" ")),new g({a:c(d[0]),b:c(d[1]),c:c(d[2]),d:c(d[3]),e:c(d[4]),f:c(d[5])})}return new g},g.transformPoint=function(a,b,c){return 2===arguments.length&&(c=b,b=a.y,a=a.x),new f(c.a*a+c.c*b+c.e,c.b*a+c.d*b+c.f)},g.transformBox=function(a,b){for(var e,f,h=Number.MAX_VALUE,i=-Number.MAX_VALUE,j=Number.MAX_VALUE,k=-Number.MAX_VALUE,l=[[a.x,a.y],[a.x+a.width,a.y],[a.x,a.y+a.height],[a.x+a.width,a.y+a.height]],m=[];e=l.pop();)f=g.transformPoint(e[0],e[1],b),m.push(f),h=Math.min(h,f.x),i=Math.max(i,f.x),j=Math.min(j,f.y),k=Math.max(k,f.y);return a=new d({x:h,y:j,width:i-h,height:k-j}),c.extend(a,{closurePoints:m}),a},g.getCTM=function(a,b){var c={a:1,b:0,c:0,d:1,e:0,f:0},d=a.shapeNode||a.node;switch(b=b||"parent"){case"screen":c=d.getScreenCTM();break;case"doc":case"paper":c=d.getCTM();break;case"view":case"top":a.getPaper()&&(c=d.getTransformToElement(a.getPaper().shapeNode));break;case"parent":a.node.parentNode&&(c=d.getTransformToElement(a.node.parentNode));break;default:b.node&&(c=d.getTransformToElement(b.shapeNode||b.node))}return c?new g(c.a,c.b,c.c,c.d,c.e,c.f):new g},g}},_p[44]={value:function(){var a=_p.r(64),b=_p.r(28),c=_p.r(12),d=_p.r(11).createClass("Palette",{constructor:function(){this.color={}},get:function(c){var d=this.color[c]||a.EXTEND_STANDARD[c]||a.COLOR_STANDARD[c]||"";return d?new b(d):null},getColorValue:function(b){return this.color[b]||a.EXTEND_STANDARD[b]||a.COLOR_STANDARD[b]||""},add:function(a,c){return this.color[a]="string"==typeof c?new b(c).toRGBA():c.toRGBA(),c},remove:function(a){return this.color.hasOwnProperty(a)?(delete this.color[a],!0):!1}});return c.extend(d,{getColor:function(c){var d=a.EXTEND_STANDARD[c]||a.COLOR_STANDARD[c];return d?new b(d):null},getColorValue:function(b){return a.EXTEND_STANDARD[b]||a.COLOR_STANDARD[b]||""},addColor:function(c,d){return a.EXTEND_STANDARD[c]="string"==typeof d?new b(d).toRGBA():d.toRGBA(),d},removeColor:function(b){return a.EXTEND_STANDARD.hasOwnProperty(b)?(delete a.EXTEND_STANDARD[b],!0):!1}}),d}},_p[45]={value:function(){var a=_p.r(11),b=_p.r(12),c=_p.r(67),d=_p.r(29),e=_p.r(61),f=_p.r(75),g=_p.r(33),h=_p.r(66),i=_p.r(43),j=a.createClass("Paper",{mixins:[e,g,h,f],constructor:function(a){this.callBase(),this.node=this.createSVGNode(),this.node.paper=this,this.node.appendChild(this.resourceNode=c.createNode("defs")),this.node.appendChild(this.shapeNode=c.createNode("g")),this.resources=new d,this.setWidth("100%").setHeight("100%"),a&&this.renderTo(a),this.callMixin()},renderTo:function(a){b.isString(a)&&(a=document.getElementById(a)),this.container=a,a.appendChild(this.node)},createSVGNode:function(){var a=c.createNode("svg");return a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),a.setAttribute("version","1.1"),a},getNode:function(){return this.node},getContainer:function(){return this.container},getWidth:function(){return this.node.clientWidth},setWidth:function(a){return this.node.setAttribute("width",a),this},getHeight:function(){return this.node.clientHeight},setHeight:function(a){return this.node.setAttribute("height",a),this},setViewPort:function(a,b,c){var d,e;1==arguments.length&&(d=arguments[0],a=d.center.x,b=d.center.y,c=d.zoom),c=c||1,e=this.getViewBox();var f=new i,g=e.x+e.width/2-a,h=e.y+e.height/2-b;return f.translate(-a,-b),f.scale(c),f.translate(a,b),f.translate(g,h),this.shapeNode.setAttribute("transform","matrix("+f+")"),this.viewport={center:{x:a,y:b},offset:{x:g,y:h},zoom:c},this},getViewPort:function(){if(!this.viewport){var a=this.getViewBox();return{zoom:1,center:{x:a.x+a.width/2,y:a.y+a.height/2},offset:{x:0,y:0}}}return this.viewport},getViewPortMatrix:function(){return i.parse(this.shapeNode.getAttribute("transform"))},getViewPortTransform:function(){var a=this.shapeNode.getCTM();return new i(a.a,a.b,a.c,a.d,a.e,a.f)},getTransform:function(){return this.getViewPortTransform().reverse()},addResource:function(a){return this.resources.appendItem(a),a.node&&this.resourceNode.appendChild(a.node),this},removeResource:function(a){return a.remove&&a.remove(),a.node&&this.resourceNode.removeChild(a.node),this},getPaper:function(){return this}}),k=_p.r(60);return a.extendClass(k,{getPaper:function(){for(var a=this.container;a&&a instanceof j==!1;)a=a.container;return a},isAttached:function(){return!!this.getPaper()},whenPaperReady:function(a){function b(){var b=c.getPaper();return b&&a&&a.call(c,b),b}var c=this;return b()||this.on("add treeadd",function d(){b()&&(c.off("add",d),c.off("treeadd",d))}),this}}),j}},_p[46]={value:function(){var a=_p.r(12),b=_p.r(11).createClass,c=_p.r(60),d=_p.r(67),e=_p.r(34),f=Array.prototype.slice,g=(a.flatten,b("PathDrawer",{constructor:function(a){this.segment=[],this.path=a,this.__clear=!1},getPath:function(){return this.path},redraw:function(){return this._transation=this._transation||[],this.clear()},done:function(){var a=this._transation;return this._transation=null,this.push(a),this},clear:function(){return this._transation?this._transation=[]:this.path.setPathData("M 0 0"),this._clear=!0,this},push:function(){var a,b=f.call(arguments);return this._transation?(this._transation.push(b),this):(this._clear?(a="",this._clear=!1):a=this.path.getPathData(),a=a||"",this.path.setPathData(a+e.pathToString(b)),this)},moveTo:function(){return this.push("M",f.call(arguments))},moveBy:function(){return this.push("m",f.call(arguments))},lineTo:function(){return this.push("L",f.call(arguments))},lineBy:function(){return this.push("l",f.call(arguments))},arcTo:function(){return this.push("A",f.call(arguments))},arcBy:function(){return this.push("a",arguments)},carcTo:function(a){return this.push("A",[a,a,0].concat(f.call(arguments,1)))},carcBy:function(a){return this.push("a",[a,a,0].concat(f.call(arguments,1)))},bezierTo:function(){return this.push("C",f.call(arguments))},bezierBy:function(){return this.push("c",f.call(arguments))},close:function(){return this.push("z")}}));return b("Path",{base:c,constructor:function(a){this.callBase("path"),a&&this.setPathData(a),this.node.setAttribute("fill",d.defaults.fill),this.node.setAttribute("stroke",d.defaults.stroke)},setPathData:function(a){return a=a||"M0,0",this.pathdata=e.pathToString(a),this.node.setAttribute("d",this.pathdata),this.trigger("shapeupdate",{type:"pathdata"}),this},getPathData:function(){return this.pathdata||""},getDrawer:function(){return new g(this)},isClosed:function(){var a=this.getPathData();return!!~a.indexOf("z")||!!~a.indexOf("Z")}})}},_p[47]={value:function(){{var a=_p.r(58),b=_p.r(61);_p.r(67)}return _p.r(11).createClass("PatternBrush",{base:a,mixins:[b],constructor:function(a){this.callBase("pattern",a),this.node.setAttribute("patternUnits","userSpaceOnUse")},setX:function(a){return this.x=a,this.node.setAttribute("x",a),this},setY:function(a){return this.y=a,this.node.setAttribute("y",a),this},setWidth:function(a){return this.width=a,this.node.setAttribute("width",a),this},setHeight:function(a){return this.height=a,this.node.setAttribute("height",a),this},getWidth:function(){return this.width},getHeight:function(){return this.height}})}},_p[48]={value:function(){var a=_p.r(28);return _p.r(11).createClass("Pen",{constructor:function(a,b){this.brush=a,this.width=b||1,this.linecap=null,this.linejoin=null,this.dashArray=null,this.opacity=1},getBrush:function(){return this.brush},setBrush:function(a){return this.brush=a,this},setColor:function(a){return this.setBrush(a)},getColor:function(){return this.brush instanceof a?this.brush:null},getWidth:function(){return this.width},setWidth:function(a){return this.width=a,this},getOpacity:function(){return this.opacity},setOpacity:function(a){this.opacity=a},getLineCap:function(){return this.linecap},setLineCap:function(a){return this.linecap=a,this},getLineJoin:function(){return this.linejoin},setLineJoin:function(a){return this.linejoin=a,this},getDashArray:function(){return this.dashArray},setDashArray:function(a){return this.dashArray=a,this},stroke:function(a){var b=a.node;b.setAttribute("stroke",this.brush.toString()),b.setAttribute("stroke-width",this.getWidth()),this.getOpacity()<1&&b.setAttribute("stroke-opacity",this.getOpacity()),this.getLineCap()&&b.setAttribute("stroke-linecap",this.getLineCap()),this.getLineJoin()&&b.setAttribute("stroke-linejoin",this.getLineJoin()),this.getDashArray()&&b.setAttribute("stroke-dasharray",this.getDashArray())}})}},_p[49]={value:function(){return _p.r(11).createClass({base:_p.r(68),constructor:function(a,b,c){this.callBase([0,a],b,c)},getRadius:function(){return this.getSectionArray()[1]},setRadius:function(a){this.setSectionArray([0,a])}})}},_p[50]={value:function(){var a=_p.r(11).createClass("Point",{constructor:function(a,b){this.x=a||0,this.y=b||0},offset:function(b,c){return 1==arguments.length&&(c=b.y,b=b.x),new a(this.x+b,this.y+c)},valueOf:function(){return[this.x,this.y]},toString:function(){return this.valueOf().join(" ")},spof:function(){return new a((0|this.x)+.5,(0|this.y)+.5)},round:function(){return new a(0|this.x,0|this.y)},isOrigin:function(){return 0===this.x&&0===this.y}});return a.fromPolar=function(b,c,d){return"rad"!=d&&(c=c/180*Math.PI),new a(b*Math.cos(c),b*Math.sin(c))},a.parse=function(b){return b?b instanceof a?b:"string"==typeof b?a.parse(b.split(/\s*[\s,]\s*/)):"0"in b&&"1"in b?new a(b[0],b[1]):void 0:new a},a}},_p[51]={value:function(){return _p.r(11).createClass("PointContainer",{base:_p.r(29),constructor:function(){this.callBase()},addPoint:function(){return this.addItem.apply(this,arguments)},prependPoint:function(){return this.prependItem.apply(this,arguments)},appendPoint:function(){return this.appendItem.apply(this,arguments)},removePoint:function(){return this.removeItem.apply(this,arguments)},addPoints:function(){return this.addItems.apply(this,arguments)},setPoints:function(){return this.setItems.apply(this,arguments)},getPoint:function(){return this.getItem.apply(this,arguments)
},getPoints:function(){return this.getItems.apply(this,arguments)},getFirstPoint:function(){return this.getFirstItem.apply(this,arguments)},getLastPoint:function(){return this.getLastItem.apply(this,arguments)}})}},_p[52]={value:function(){_p.r(12);return _p.r(11).createClass("Poly",{base:_p.r(46),mixins:[_p.r(51)],constructor:function(a,b){this.callBase(),this.closeable=!!b,this.setPoints(a||[]),this.changeable=!0,this.update()},onContainerChanged:function(){this.changeable&&this.update()},update:function(){var a=this.getDrawer(),b=this.getPoints();if(a.clear(),!b.length)return this;a.moveTo(b[0]);for(var c,d=1,e=b.length;e>d;d++)c=b[d],a.lineTo(c);return this.closeable&&b.length>2&&a.close(),this}})}},_p[53]={value:function(){return _p.r(11).createClass("Polygon",{base:_p.r(52),constructor:function(a){this.callBase(a,!0)}})}},_p[54]={value:function(){return _p.r(11).createClass("Polyline",{base:_p.r(52),constructor:function(a){this.callBase(a)}})}},_p[55]={value:function(){var a=_p.r(35);return _p.r(11).createClass("RadialGradientBrush",{base:a,constructor:function(a){this.callBase("radialGradient",a),this.setCenter(.5,.5),this.setFocal(.5,.5),this.setRadius(.5)},setCenter:function(a,b){return this.node.setAttribute("cx",a),this.node.setAttribute("cy",b),this},getCenter:function(){return{x:+this.node.getAttribute("cx"),y:+this.node.getAttribute("cy")}},setFocal:function(a,b){return this.node.setAttribute("fx",a),this.node.setAttribute("fy",b),this},getFocal:function(){return{x:+this.node.getAttribute("fx"),y:+this.node.getAttribute("fy")}},setRadius:function(a){return this.node.setAttribute("r",a),this},getRadius:function(){return+this.node.getAttribute("r")}})}},_p[56]={value:function(){var a={},b=_p.r(12),c=_p.r(50),d=_p.r(25);b.extend(a,{formatRadius:function(a,b,c){var d=Math.floor(Math.min(a/2,b/2));return Math.min(d,c)}});var e=_p.r(11).createClass("Rect",{base:_p.r(46),constructor:function(b,c,d,e,f){this.callBase(),this.x=d||0,this.y=e||0,this.width=b||0,this.height=c||0,this.radius=a.formatRadius(this.width,this.height,f||0),this.update()},update:function(){var a=this.x,b=this.y,c=this.width,d=this.height,e=this.radius,f=this.getDrawer().redraw();return e?(c-=2*e,d-=2*e,f.push("M",a+e,b),f.push("h",c),f.push("a",e,e,0,0,1,e,e),f.push("v",d),f.push("a",e,e,0,0,1,-e,e),f.push("h",-c),f.push("a",e,e,0,0,1,-e,-e),f.push("v",-d),f.push("a",e,e,0,0,1,e,-e),f.push("z")):(f.push("M",a,b),f.push("h",c),f.push("v",d),f.push("h",-c),f.push("z")),f.done(),this},setWidth:function(a){return this.width=a,this.update()},setHeight:function(a){return this.height=a,this.update()},setSize:function(a,b){return this.width=a,this.height=b,this.update()},setBox:function(a){return this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this.update()},getBox:function(){return new d(this.x,this.y,this.width,this.height)},getRadius:function(){return this.radius},setRadius:function(b){return this.radius=a.formatRadius(this.width,this.height,b||0),this.update()},getPosition:function(){return new c(this.x,this.y)},setPosition:function(a,b){if(1==arguments.length){var d=c.parse(arguments[0]);b=d.y,a=d.x}return this.x=a,this.y=b,this.update()},getWidth:function(){return this.width},getHeight:function(){return this.height},getPositionX:function(){return this.x},getPositionY:function(){return this.y},setPositionX:function(a){return this.x=a,this.update()},setPositionY:function(a){return this.y=a,this.update()}});return e}},_p[57]={value:function(){var a=_p.r(50);return _p.r(11).createClass("RegularPolygon",{base:_p.r(46),constructor:function(b,c,d,e){this.callBase(),this.radius=c||0,this.side=Math.max(b||3,3),arguments.length>2&&3==arguments.length&&(e=d.y,d=d.x),this.center=new a(d,e),this.draw()},getSide:function(){return this.side},setSide:function(a){return this.side=a,this.draw()},getRadius:function(){return this.radius},setRadius:function(a){return this.radius=a,this.draw()},draw:function(){var b,c=this.radius,d=this.side,e=2*Math.PI/d,f=this.getDrawer();for(f.clear(),f.moveTo(a.fromPolar(c,Math.PI/2,"rad").offset(this.center)),b=0;d>=b;b++)f.lineTo(a.fromPolar(c,e*b+Math.PI/2,"rad").offset(this.center));return f.close(),this}})}},_p[58]={value:function(){var a=_p.r(67);return _p.r(11).createClass("Resource",{constructor:function(b,c){this.callBase(),this.node=a.createNode(b),c&&c.addResource(this)},toString:function(){return"url(#"+this.node.id+")"}})}},_p[59]={value:function(){return _p.r(11).createClass({base:_p.r(68),constructor:function(a,b){this.callBase([a,b],360,0)},getInnerRadius:function(){return this.getSectionArray()[0]},getOuterRadius:function(){return this.getSectionArray()[1]},setInnerRadius:function(a){this.setSectionArray([a,this.getOuterRadius()])},setOuterRadius:function(a){this.setSectionArray([this.getInnerRadius(),a])}})}},_p[60]={value:function(){var a=_p.r(67),b=_p.r(12),c=_p.r(33),d=_p.r(66),e=_p.r(31),f=_p.r(43),g=(_p.r(48),Array.prototype.slice),h=_p.r(25),i=_p.r(11).createClass("Shape",{mixins:[c,d,e],constructor:function(b){this.node=a.createNode(b),this.node.shape=this,this.transform={translate:null,rotate:null,scale:null,matrix:null},this.callMixin()},getId:function(){return this.node.id},setId:function(a){return this.node.id=a,this},getNode:function(){return this.node},getBoundaryBox:function(){var a;try{a=this.node.getBBox()}catch(b){a={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}return new h(a)},getRenderBox:function(a){var b=this.getBoundaryBox(),c=this.getTransform(a);return c.transformBox(b)},getWidth:function(){return this.getRenderBox().width},getHeight:function(){return this.getRenderBox().height},getSize:function(){var a=this.getRenderBox();return delete a.x,delete a.y,a},setOpacity:function(a){return this.node.setAttribute("opacity",a),this},getOpacity:function(){var a=this.node.getAttribute("opacity");return a?+a:1},setVisible:function(a){return a?this.node.removeAttribute("display"):this.node.setAttribute("display","none"),this},getVisible:function(){this.node.getAttribute("display")},hasAncestor:function(a){for(var b=this.container;b;){if(b===a)return!0;b=b.container}return!1},getTransform:function(a){return f.getCTM(this,a)},clearTransform:function(){return this.node.removeAttribute("transform"),this.transform={translate:null,rotate:null,scale:null,matrix:null},this.trigger("shapeupdate",{type:"transform"}),this},_applyTransform:function(){var a=this.transform,c=[];return a.translate&&c.push(["translate(",a.translate,")"]),a.rotate&&c.push(["rotate(",a.rotate,")"]),a.scale&&c.push(["scale(",a.scale,")"]),a.matrix&&c.push(["matrix(",a.matrix,")"]),this.node.setAttribute("transform",b.flatten(c).join(" ")),this},setMatrix:function(a){return this.transform.matrix=a,this._applyTransform()},setTranslate:function(a){return this.transform.translate=null!==a&&g.call(arguments)||null,this._applyTransform()},setRotate:function(a){return this.transform.rotate=null!==a&&g.call(arguments)||null,this._applyTransform()},setScale:function(a){return this.transform.scale=null!==a&&g.call(arguments)||null,this._applyTransform()},translate:function(a,b){var c=this.transform.matrix||new f;return void 0===b&&(b=0),this.transform.matrix=c.translate(a,b),this._applyTransform()},rotate:function(a){var b=this.transform.matrix||new f;return this.transform.matrix=b.rotate(a),this._applyTransform()},scale:function(a,b){var c=this.transform.matrix||new f;return void 0===b&&(b=a),this.transform.matrix=c.scale(a,b),this._applyTransform()},skew:function(a,b){var c=this.transform.matrix||new f;return void 0===b&&(b=a),this.transform.matrix=c.skew(a,b),this._applyTransform()},stroke:function(a,b){return a&&a.stroke?a.stroke(this):a?(this.node.setAttribute("stroke",a.toString()),b&&this.node.setAttribute("stroke-width",b)):null===a&&this.node.removeAttribute("stroe"),this},fill:function(a){return a&&this.node.setAttribute("fill",a.toString()),null===a&&this.node.removeAttribute("fill"),this},setAttr:function(a,c){var d=this;return b.isObject(a)&&b.each(a,function(a,b){d.setAttr(b,a)}),void 0===c||null===c||""===c?this.node.removeAttribute(a):this.node.setAttribute(a,c),this},getAttr:function(a){return this.node.getAttribute(a)}});return i}},_p[61]={value:function(){var a=_p.r(29),b=_p.r(12),c=_p.r(11).createClass("ShapeContainer",{base:a,isShapeContainer:!0,handleAdd:function(a,b){var c=this.getShapeNode();c.insertBefore(a.node,c.childNodes[b]||null),a.trigger("add",{container:this}),a.notifyTreeModification&&a.notifyTreeModification("treeadd",this)},handleRemove:function(a){var b=this.getShapeNode();b.removeChild(a.node),a.trigger("remove",{container:this}),a.notifyTreeModification&&a.notifyTreeModification("treeremove",this)},notifyTreeModification:function(a,b){this.eachItem(function(c,d){d.notifyTreeModification&&d.notifyTreeModification(a,b),d.trigger(a,{container:b})})},getShape:function(a){return this.getItem(a)},addShape:function(a,b){return this.addItem(a,b)},put:function(a){return this.addShape(a),a},appendShape:function(a){return this.addShape(a)},prependShape:function(a){return this.addShape(a,0)},replaceShape:function(a,b){var c=this.indexOf(b);if(-1!==c)return this.removeShape(c),this.addShape(a,c),this},addShapeBefore:function(a,b){var c=this.indexOf(b);return this.addShape(a,c)},addShapeAfter:function(a,b){var c=this.indexOf(b);return this.addShape(a,-1===c?void 0:c+1)},addShapes:function(a){return this.addItems(a)},removeShape:function(a){return this.removeItem(a)},getShapes:function(){return this.getItems()},getShapesByType:function(a){function c(e){a.toLowerCase()==e.getType().toLowerCase()&&d.push(e),e.isShapeContainer&&b.each(e.getShapes(),function(a){c(a)})}var d=[];return c(this),d},getShapeById:function(a){return this.getShapeNode().getElementById(a).shape},arrangeShape:function(a,b){return this.removeShape(a).addShape(a,b)},getShapeNode:function(){return this.shapeNode||this.node}}),d=_p.r(60);return _p.r(11).extendClass(d,{bringTo:function(a){return this.container.arrangeShape(this,a),this},bringFront:function(){return this.bringTo(this.container.indexOf(this)+1)},bringBack:function(){return this.bringTo(this.container.indexOf(this)-1)},bringTop:function(){return this.container.removeShape(this).addShape(this),this},bringRear:function(){return this.bringTo(0)},bringRefer:function(a,b){return a.container&&(this.remove&&this.remove(),a.container.addShape(this,a.container.indexOf(a)+(b||0))),this},bringAbove:function(a){return this.bringRefer(a)},bringBelow:function(a){return this.bringRefer(a,1)},replaceBy:function(a){return this.container&&(a.bringAbove(this),this.remove()),this}}),c}},_p[62]={value:function(){var a=_p.r(43),b=_p.r(12),c=_p.r(50);return _p.r(11).createClass("ShapeEvent",{constructor:function(a){var c=null;b.isObject(a.target)?b.extend(this,a):(this.type=a.type,c=a.target,c.correspondingUseElement&&(c=c.correspondingUseElement),this.originEvent=a,this.targetShape=c.shape||c.paper||a.currentTarget&&(a.currentTarget.shape||a.currentTarget.paper),a._kityParam&&b.extend(this,a._kityParam))},preventDefault:function(){var a=this.originEvent;return a?a.preventDefault?(a.preventDefault(),a.cancelable):(a.returnValue=!1,!0):!0},getPosition:function(b,d){if(!this.originEvent)return null;var e=this.originEvent.touches?this.originEvent.touches[d||0]:this.originEvent,f=this.targetShape,g=f.shapeNode||f.node,h=new c(e&&e.clientX||0,e&&e.clientY||0),i=a.transformPoint(h,g.getScreenCTM().inverse()),j=a.getCTM(f,b||"view").transformPoint(i);return j},stopPropagation:function(){var a=this.originEvent;return a?void(a.stopPropagation?a.stopPropagation():a.cancelBubble=!1):!0}})}},_p[63]={value:function(){return _p.r(11).createClass("ShapePoint",{base:_p.r(50),constructor:function(a,b){this.callBase(a,b)},setX:function(a){return this.setPoint(a,this.y)},setY:function(a){return this.setPoint(this.x,a)},setPoint:function(a,b){return this.x=a,this.y=b,this.update(),this},getPoint:function(){return this},update:function(){return this.container&&this.container.update&&this.container.update(),this}})}},_p[64]={value:{COLOR_STANDARD:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00"},EXTEND_STANDARD:{}}},_p[65]={value:function(){var a={3:.2,5:.38196601125,6:.57735026919,8:.541196100146,10:.726542528005,12:.707106781187},b=_p.r(50);return _p.r(11).createClass("Star",{base:_p.r(46),constructor:function(a,c,d,e,f){this.callBase(),this.vertex=a||3,this.radius=c||0,this.shrink=d,this.offset=e||new b(0,0),this.angleOffset=f||0,this.draw()},getVertex:function(){return this.vertex},setVertex:function(a){return this.vertex=a,this.draw()},getRadius:function(){return this.radius},setRadius:function(a){return this.radius=a,this.draw()},getShrink:function(){return this.shrink},setShrink:function(a){return this.shrink=a,this.draw()},getOffset:function(){return this.offset},setOffset:function(a){return this.offset=a,this.draw()},getAngleOffset:function(){return this.angleOffset},setAngleOffset:function(a){return this.angleOffset=a,this.draw()},draw:function(){var c,d,e=this.radius,f=this.radius*(this.shrink||a[this.vertex]||.5),g=this.vertex,h=this.offset,i=90,j=180/g,k=this.angleOffset,l=this.getDrawer();for(l.clear(),l.moveTo(b.fromPolar(f,i)),c=1;2*g>=c;c++)d=i+j*c,l.lineTo(c%2?b.fromPolar(e,d+k).offset(h):b.fromPolar(f,d));l.close()}})}},_p[66]={value:function(){function a(a){return a.classList||(a.classList=new b(a)),a.classList}var b=_p.r(11).createClass("ClassList",{constructor:function(a){this._node=a,this._list=a.className.toString().split(" ")},_update:function(){this._node.className=this._list.join(" ")},add:function(a){this._list.push(a),this._update()},remove:function(a){var b=this._list.indexOf(a);~b&&this._list.splice(b,1),this._update()},contains:function(a){return!!~this._list.indexOf(a)}});return _p.r(11).createClass("Styled",{addClass:function(b){return a(this.node).add(b),this},removeClass:function(b){return a(this.node).remove(b),this},hasClass:function(b){return a(this.node).contains(b)},setStyle:function(a){if(2==arguments.length)return this.node.style[arguments[0]]=arguments[1],this;for(var b in a)a.hasOwnProperty(b)&&(this.node.style[b]=a[b]);return this}})}},_p[67]={value:function(){var a=document,b=0,c={createNode:function(d){var e=a.createElementNS(c.ns,d);return e.id="kity_"+d+"_"+b++,e},defaults:{stroke:"none",fill:"none"},xlink:"http://www.w3.org/1999/xlink",ns:"http://www.w3.org/2000/svg"};return c}},_p[68]={value:function(){var a=_p.r(50);return _p.r(11).createClass("Sweep",{base:_p.r(46),constructor:function(a,b,c){this.callBase(),this.sectionArray=a||[],this.angle=b||0,this.angleOffset=c||0,this.draw()},getSectionArray:function(){return this.sectionArray},setSectionArray:function(a){return this.sectionArray=a,this.draw()},getAngle:function(){return this.angle},setAngle:function(a){return this.angle=a,this.draw()},getAngleOffset:function(){return this.angleOffset},setAngleOffset:function(a){return this.angleOffset=a,this.draw()},draw:function(){var a,b=this.sectionArray;for(a=0;a<b.length;a+=2)this.drawSection(b[a],b[a+1]);return this},drawSection:function(b,c){var d=this.angle&&(this.angle%360?this.angle%360:360),e=this.angleOffset,f=e+d/2,g=e+d,h=0>d?0:1,i=this.getDrawer();return i.redraw(),0===d?void i.done():(i.moveTo(a.fromPolar(b,e)),i.lineTo(a.fromPolar(c,e)),c&&(i.carcTo(c,0,h,a.fromPolar(c,f)),i.carcTo(c,0,h,a.fromPolar(c,g))),i.lineTo(a.fromPolar(b,g)),b&&(i.carcTo(b,0,h,a.fromPolar(b,f)),i.carcTo(b,0,h,a.fromPolar(b,e))),i.close(),void i.done())}})}},_p[69]={value:function(){function a(a){var b=a._cachedFontHash;if(f[b])return f[b];var c=a.getContent();a.setContent("百度Fex");var d=a.getBoundaryBox(),e=a.getY(),g=e-d.y+ +a.node.getAttribute("dy"),h=g-d.height;return a.setContent(c),f[b]={top:g,bottom:h,middle:(g+h)/2}}var b=_p.r(70),c=_p.r(61),d=_p.r(67),e=_p.r(12),f={};return _p.r(11).createClass("Text",{base:b,mixins:[c],constructor:function(a){this.callBase("text"),void 0!==a&&this.setContent(a),this._buildFontHash()},_buildFontHash:function(){var a=window.getComputedStyle(this.node);this._cachedFontHash=[a.fontFamily,a.fontSize,a.fontStretch,a.fontStyle,a.fontVariant,a.fontWeight].join("-")},_fontChanged:function(a){var b=this._lastFont,c=e.extend({},b,a);if(!b)return this._lastFont=a,!0;var d=b.family!=c.family||b.size!=c.size||b.style!=c.style||b.weight!=c.weight;return this._lastFont=c,d},setX:function(a){return this.node.setAttribute("x",a),this},setPosition:function(a,b){return this.setX(a).setY(b)},setY:function(a){return this.node.setAttribute("y",a),this},getX:function(){return+this.node.getAttribute("x")||0},getY:function(){return+this.node.getAttribute("y")||0},setFont:function(a){return this.callBase(a),this._fontChanged(a)&&(this._buildFontHash(),this.setVerticalAlign(this.getVerticalAlign())),this},setTextAnchor:function(a){return this.node.setAttribute("text-anchor",a),this},getTextAnchor:function(){return this.node.getAttribute("text-anchor")||"start"},setVerticalAlign:function(b){return this.whenPaperReady(function(){var c;switch(b){case"top":c=a(this).top;break;case"bottom":c=a(this).bottom;break;case"middle":c=a(this).middle;break;default:c=0}this.node.setAttribute("dy",c)}),this.verticalAlign=b,this},getVerticalAlign:function(){return this.verticalAlign||"baseline"},setStartOffset:function(a){this.shapeNode!=this.node&&this.shapeNode.setAttribute("startOffset",100*a+"%")},addSpan:function(a){return this.addShape(a),this},setPath:function(a){var b=this.shapeNode;if(this.shapeNode==this.node){for(b=this.shapeNode=d.createNode("textPath");this.node.firstChild;)this.shapeNode.appendChild(this.node.firstChild);this.node.appendChild(b)}return b.setAttributeNS(d.xlink,"xlink:href","#"+a.node.id),this.setTextAnchor(this.getTextAnchor()),this}})}},_p[70]={value:function(){var a=_p.r(60);return _p.r(11).createClass("TextContent",{base:a,constructor:function(a){this.callBase(a),this.shapeNode=this.shapeNode||this.node,this.shapeNode.setAttribute("text-rendering","geometricPrecision")},clearContent:function(){for(;this.shapeNode.firstChild;)this.shapeNode.removeChild(this.shapeNode.firstChild);return this},setContent:function(a){return this.shapeNode.textContent=a,this},getContent:function(){return this.shapeNode.textContent},appendContent:function(a){return this.shapeNode.textContent+=a,this},setSize:function(a){return this.setFontSize(a)},setFontSize:function(a){return this.setFont({size:a})},setFontFamily:function(a){return this.setFont({family:a})},setFontBold:function(a){return this.setFont({weight:a?"bold":"normal"})},setFontItalic:function(a){return this.setFont({style:a?"italic":"normal"})},setFont:function(a){var b=this.node;return["family","size","weight","style"].forEach(function(c){null===a[c]?b.removeAttribute("font-"+c):a[c]&&b.setAttribute("font-"+c,a[c])}),this},getExtentOfChar:function(a){return this.node.getExtentOfChar(a)},getRotationOfChar:function(a){return this.node.getRotationOfChar(a)},getCharNumAtPosition:function(a,b){return this.node.getCharNumAtPosition(this.node.viewportElement.createSVGPoint(a,b))}})}},_p[71]={value:function(){var a=_p.r(70),b=_p.r(66);return _p.r(11).createClass("TextSpan",{base:a,mixins:[b],constructor:function(a){this.callBase("tspan"),this.setContent(a)}})}},_p[72]={value:function(){var a=_p.r(67),b=_p.r(11),c=b.createClass("Use",{base:_p.r(60),constructor:function(a){this.callBase("use"),this.ref(a)},ref:function(b){if(!b)return this.node.removeAttributeNS(a.xlink,"xlink:href"),this;var c=b.getId();return c&&this.node.setAttributeNS(a.xlink,"xlink:href","#"+c),"none"===b.node.getAttribute("fill")&&b.node.removeAttribute("fill"),"none"===b.node.getAttribute("stroke")&&b.node.removeAttribute("stroke"),this}}),d=_p.r(60);return b.extendClass(d,{use:function(){return new c(this)}}),c}},_p[73]={value:function(){var a=_p.r(50),b=_p.r(43),c=_p.r(11).createClass("Vector",{base:a,constructor:function(a,b){this.callBase(a,b)},square:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.square())},add:function(a){return new c(this.x+a.x,this.y+a.y)},minus:function(a){return new c(this.x-a.x,this.y-a.y)},dot:function(a){return this.x*a.x+this.y*a.y},project:function(a){return a.multipy(this.dot(a)/a.square())},normalize:function(a){return void 0===a&&(a=1),this.multipy(a/this.length())},multipy:function(a){return new c(this.x*a,this.y*a)},rotate:function(a,d){"rad"==d&&(a=a/Math.PI*180);var e=(new b).rotate(a).transformPoint(this);return new c(e.x,e.y)},vertical:function(){return new c(this.y,-this.x)},reverse:function(){return this.multipy(-1)},getAngle:function(){var a=this.length();if(0===a)return 0;var b=Math.acos(this.x/a),c=this.y>0?1:-1;return 180*c*b/Math.PI}});return c.fromPoints=function(a,b){return new c(b.x-a.x,b.y-a.y)},c.fromPolar=function(){var b=a.fromPolar.apply(a,arguments);return new c(b.x,b.y)},_p.r(11).extendClass(a,{asVector:function(){return new c(this.x,this.y)}}),c}},_p[74]={value:function(){var a=_p.r(61),b=_p.r(75);return _p.r(11).createClass("View",{mixins:[a,b],base:_p.r(74),constructor:function(){this.callBase("view")}})}},_p[75]={value:function(){return _p.r(11).createClass("ViewBox",{getViewBox:function(){var a=this.node.getAttribute("viewBox");return null===a?{x:0,y:0,width:this.node.clientWidth||this.node.parentNode.clientWidth,height:this.node.clientHeight||this.node.parentNode.clientHeight}:(a=a.split(" "),{x:+a[0],y:+a[1],width:+a[2],height:+a[3]})},setViewBox:function(a,b,c,d){return this.node.setAttribute("viewBox",[a,b,c,d].join(" ")),this}})}},_p[76]={value:function(){var a={},b=_p.r(12);return a.version="2.0.0",b.extend(a,{createClass:_p.r(11).createClass,extendClass:_p.r(11).extendClass,Utils:b,Browser:_p.r(10),Box:_p.r(25),Bezier:_p.r(23),BezierPoint:_p.r(24),Circle:_p.r(26),Clip:_p.r(27),Color:_p.r(28),Container:_p.r(29),Curve:_p.r(30),Ellipse:_p.r(32),Group:_p.r(36),Gradient:_p.r(35),HyperLink:_p.r(37),Image:_p.r(38),Line:_p.r(39),LinearGradient:_p.r(40),Mask:_p.r(42),Matrix:_p.r(43),Marker:_p.r(41),Palette:_p.r(44),Paper:_p.r(45),Path:_p.r(46),Pattern:_p.r(47),Pen:_p.r(48),Point:_p.r(50),PointContainer:_p.r(51),Polygon:_p.r(53),Polyline:_p.r(54),Pie:_p.r(49),RadialGradient:_p.r(55),Resource:_p.r(58),Rect:_p.r(56),RegularPolygon:_p.r(57),Ring:_p.r(59),Shape:_p.r(60),ShapePoint:_p.r(63),ShapeContainer:_p.r(61),Sweep:_p.r(68),Star:_p.r(65),Text:_p.r(69),TextSpan:_p.r(71),Use:_p.r(72),Vector:_p.r(73),g:_p.r(34),Animator:_p.r(0),Easing:_p.r(1),OpacityAnimator:_p.r(4),RotateAnimator:_p.r(6),ScaleAnimator:_p.r(7),Timeline:_p.r(8),TranslateAnimator:_p.r(9),PathAnimator:_p.r(5),MotionAnimator:_p.r(3),requestFrame:_p.r(2).requestFrame,releaseFrame:_p.r(2).releaseFrame,Filter:_p.r(20),GaussianblurFilter:_p.r(21),ProjectionFilter:_p.r(22),ColorMatrixEffect:_p.r(13),CompositeEffect:_p.r(14),ConvolveMatrixEffect:_p.r(15),Effect:_p.r(16),GaussianblurEffect:_p.r(17),OffsetEffect:_p.r(18)}),window.kity=a}};var moduleMapping={kity:76};use("kity")}();